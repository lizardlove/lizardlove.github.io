<!DOCTYPE html><html class="theme-next pisces" lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="theme-color" content="#fff"><link rel="preload" href="/fonts/sigmarone3.woff2" as="font" type="font/woff2" crossorigin="anonymous"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><link href="https://cdn.jsdelivr.net/npm/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css"><link href="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/css/share.min.css" rel="stylesheet" type="text/css"><link href="/css/main.css?v=0.0.53" rel="stylesheet" type="text/css"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png?v=0.0.53"><link rel="icon" type="image/png" sizes="32x32" href="/favicon.ico?v=0.0.53"><link rel="mask-icon" href="/safari-pinned-tab.svg?v=0.0.53" color="#fff"><link rel="manifest" href="/manifest.json"><meta name="keywords" content="Pipiper,blog"><link rel="alternate" href="/atom.xml" title="Pipiper coming !" type="application/atom+xml"><meta name="description" content="时间轮算法是定时器系统衍生出来的一种调度方案，非常巧妙，令人印象深刻。本文就是在实现多层时间轮算法的过程中，突然想到了之前学习嵌入式系统中提到的时间差分链，回头重新看了一下，它们之间确实有所关联。"><meta property="og:type" content="article"><meta property="og:title" content="从时间轮开始的思考"><meta property="og:url" content="http://blog.lizardlove.ren/timeWheel/index.html"><meta property="og:site_name" content="Pipiper coming !"><meta property="og:description" content="时间轮算法是定时器系统衍生出来的一种调度方案，非常巧妙，令人印象深刻。本文就是在实现多层时间轮算法的过程中，突然想到了之前学习嵌入式系统中提到的时间差分链，回头重新看了一下，它们之间确实有所关联。"><meta property="og:locale" content="en_US"><meta property="og:image" content="http://blog.lizardlove.ren/images/chafen.png"><meta property="og:image" content="http://blog.lizardlove.ren/images/timeWheel.png"><meta property="og:image" content="http://blog.lizardlove.ren/images/waterTable.jpeg"><meta property="article:published_time" content="2020-06-18T16:00:00.000Z"><meta property="article:modified_time" content="2020-06-20T11:40:40.406Z"><meta property="article:author" content="Pipiper"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="http://blog.lizardlove.ren/images/chafen.png"><script type="text/javascript" id="hexo.configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Pisces",version:"0.0.53",sidebar:{position:"right",display:"always",offset:52,b2t:!1,scrollpercent:!1,onmobile:!1},fancybox:!1,tabs:!0,motion:{enable:!1,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},since:"1/1/2017 11:30:00",onlineAPI:"",site:{title:"Pipiper coming !",subtitle:"",author:"Pipiper"},duoshuo:{userId:"0",author:"Author"},algolia:{applicationID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},leancloud:{enable:!1,appID:"Ti5mwFDXXbpWqeWdaydLNfOS-gzGzoHsz",appKey:"rXpryRyVs5jlk2LAGGI1bfEd"},favicon:{visibilitychange:!0,narmal:"/favicon.ico",hidden:"/failure.ico",show_text:"(/≧▽≦/)咦！又好了！",hide_text:"(●—●)喔哟，崩溃啦！"}}</script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/disqusjs@1.2.2/dist/disqus.js"></script><link rel="canonical" href="http://blog.lizardlove.ren/timeWheel/"><title>从时间轮开始的思考 | Pipiper coming !</title><script>!function(e,a,t,n,g,c,o){e.GoogleAnalyticsObject=g,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,c=a.createElement(t),o=a.getElementsByTagName(t)[0],c.async=1,c.src="https://www.google-analytics.com/analytics.js",o.parentNode.insertBefore(c,o)}(window,document,"script",0,"ga"),ga("create","UA-155379950-1","auto"),ga("send","pageview")</script><meta name="generator" content="Hexo 4.2.0"></head><body itemscope itemtype="http://schema.org/WebPage" lang="en" class="theme-darling"><div class="container sidebar-position-right page-post-detail"><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-首页"><a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br>首页</a></li><li class="menu-item menu-item-联系"><a href="javascript:;" rel="section"><i class="menu-item-icon fa fa-fw fa-sign-language"></i><br>联系</a></li><li class="menu-item menu-item-归档"><a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br>归档</a></li><li class="menu-item menu-item-留言板"><a href="/message/" rel="section"><i class="menu-item-icon fa fa-fw fa-pencil"></i><br>留言板</a></li><li class="menu-item search"><form class="search-form"><input name="keyword" type="text" class="search-input" placeholder="站内搜索"> <button type="submit" class="search-submit"><i class="fa fa-search"></i></button></form></li></ul></nav><div class="site-brand-wrapper" style="background-image:url(/images/header-asphy.jpg)"><div class="site-meta"><div class="custom-logo-site-title"><div class="brand"><span class="logo-line-before"><i></i></span><div class="site-title"><div id="animate" class="animate"><span>P</span><span>i</span><span>p</span><span>i</span><span>p</span><span>e</span><span>r</span><span> </span><span>c</span><span>o</span><span>m</span><span>i</span><span>n</span><span>g</span><span> </span><span>!</span></div><div id="guide" class="guide"><span>P</span><span>i</span><span>p</span><span>i</span><span>p</span><span>e</span><span>r</span><span> </span><span>c</span><span>o</span><span>m</span><span>i</span><span>n</span><span>g</span><span> </span><span>!</span></div></div><span class="logo-line-after"><i></i></span></div></div><p class="site-subtitle"></p></div><div class="site-nav-toggle"><button><span class="btn-bar"></span> <span class="btn-bar"></span> <span class="btn-bar"></span></button></div></div><div class="site-master" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-master-avatar" itemprop="image" src="/images/Pipiper.jpg" alt="Pipiper"><h2 class="site-master-description" itemprop="description"><span>Life is a single player game.</span></h2></div></div></header><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><div id="posts" class="posts-expand"><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-date"><div class="post-month">06月</div><div class="post-day">19</div></div><div class="post-badge"><span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">学习</span></a></span></div><div class="post-block"><link itemprop="mainEntityOfPage" href="http://blog.lizardlove.ren/timeWheel/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="Pipiper"><meta itemprop="description" content=""><meta itemprop="image" content="/images/Pipiper.jpg"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Pipiper coming !"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">从时间轮开始的思考</h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">Posted on</span> <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-06-19T00:00:00+08:00">2020-06-19</time> </span><span class="post-wordcount"><span class="post-meta-divider">•</span> <span class="post-meta-item-icon"><i class="fa fa-file-word-o"></i> </span><span class="post-meta-item-text">Words count in article</span> <span title="Words count in article">2998</span></span></div></header><div class="post-body" itemprop="articleBody"><p>时间轮算法是定时器系统衍生出来的一种调度方案，非常巧妙，令人印象深刻。本文就是在实现多层时间轮算法的过程中，突然想到了之前学习嵌入式系统中提到的时间差分链，回头重新看了一下，它们之间确实有所关联。</p><a id="more"></a><p>在进入时间轮和差分链之前，先梳理一下它们共同的源头，设备时钟系统。</p><h3 id="设备时钟系统"><a href="#设备时钟系统" class="headerlink" title="设备时钟系统"></a>设备时钟系统</h3><p>一个系统同一时刻可以执行的任务数量必然是有限的，因此就需要安排任务执行的先后次序，而这个次序，就是调度，这个先后，就是时间。因此时间调度就是系统的基础。但计算机设备是如何感知到时间呢，这就是由设备时钟系统的工作。</p><p>设备时钟系统首先分为两个部分，硬件时钟和系统时钟。</p><ul><li>硬件时钟：计算机硬件设备按照一个固定的频率产生一个时钟脉冲</li><li>系统时钟：系统启动后，以硬件时钟为基准开始计时，产生标准的系统时间</li></ul><p>但我们其实应该知道，物理设备由于现实物理条件，总会产生损耗，这就导致物理设备产生的硬件时钟，不可避免的会产生偏差，因此，更多时候，系统时钟是通过网络获取统一的网络时钟为基础。当然这不是今天的重点，但这在我们认识时钟系统时需要注意的问题。</p><p>有了标准的时间度量后，系统就可以根据标准的时间度量就任务进行规划，因此产生了各种的调度策略。</p><p>但这里需要进行一点区分，上面这部分所说的任务调度，实际上是指CPU的任务调度策略，也就是我们初学操作系统时所认识到的那几种进程调度方案，如先来先服务、短进程优先、高响比、时间片轮转等。这里的任务调度是核心中的核心，其目的是资源竞争的调度方案。而我们今天要说的时间轮和差分链，其调度为定时响应，即目标任务并不是立即执行的，而是有一个间隔，过了时间间隔后再执行任务。</p><p>这两种调度之间的关系，简单举例，我们有一个需要3s后再执行的任务，首先需要通过定时响应调度方案先加入定时系统，3s后响应，将该任务从定时系统中取出，放入执行队列中，参与任务调度竞争CPU或其他资源，即先定时响应调度，后资源竞争调度。</p><h3 id="定时响应"><a href="#定时响应" class="headerlink" title="定时响应"></a>定时响应</h3><p>是的，时间轮和差分链表都属于定时响应的范畴，抛开通用计算机系统和嵌入式系统的区别，他们二者的目的都是一样的，都是用来存放需要延时处理的对象或事件，即定时器。</p><p>一个延时任务就是一个定时器，当有多个定时器待执行时，我们需要按照其延时时间依次执行，这就是定时响应调度算法所做的事。</p><p>在定时器调度模型中，通常有3种实现方式：</p><h4 id="链表"><a href="#链表" class="headerlink" title="链表"></a>链表</h4><p>定时器管理程序维护一个链表，当有新的定时器加入时添加到末尾，每次tick更新，需要维护链表上的所有定时器的定时值，当定时值为0则取出执行。</p><p><img src="../images/chafen.png" alt=""></p><p>差分链表则属于链表法的一种变形，实际上是一种排序链表，其也只需维护一个链表，只不过在添加新的定时器时，依序查看链表种定时器的等待时间，每经过一个定时器，自身定时时间减少经过的那个定时器的时间，当经过某个定时器，自身的定时时间小于0时，则插入到该定时器前面。其后每次tick更新时，只需更新链首的定时时间，当为0时调用执行。</p><h4 id="树"><a href="#树" class="headerlink" title="树"></a>树</h4><p>树结构定时器通常应用为最小堆，最小堆将定时器按照最小堆的结构保存，堆定是最小的定时器，每次添加新的定时器，通常根据堆更新的时间复杂度，可以在O(lgn)内完成更新，每次tick是检查堆顶，等待执行。</p><h4 id="时间轮"><a href="#时间轮" class="headerlink" title="时间轮"></a>时间轮</h4><p><img src="../images/timeWheel.png" alt="timeWheel"></p><p>时间轮非常直观，如图所示，时间轮管理器维护一个表盘，表盘有多个插槽，每隔插槽有一个定时器列表，当指针指到某个插槽时，则执行其中的定时器，当添加新的定时器时，只需要简单求余运算，即可知道需要插入的插槽，每次tick只需移动指针即可。</p><p>但如果只维护一个简单的时间轮，那么可添加的定时器的定时时间不能超过（该时间轮的插槽数*tick）时间，因此就有今天的主题，引发这一系列思考的多层时间轮算法，水表法。</p><p><img src="../images/waterTable.jpeg" alt=""></p><p>如图所示，水表上有多个小的轮子，其轮子之间呈递进关系，当规格小的轮子绕完一圈时，较高一级的轮子才前进一格，多层时间轮同理，每个时间轮的每个插槽都维护一个定时列表，当小轮子转完一圈后，较大一层的轮子前进一格，并将其列表上的定时器更新到下层的时间轮，依次执行。</p><p>判断一个定时器系统好坏，主要从两方面进行考虑，新增定时器和定时器响应的时间复杂度，虽然有些地方也将删除定时器作为考察指标，但其实删除定时器的使用频率非常小，故不选择加入考察。以上几种方案的各项时间复杂度如下所示：</p><table><thead><tr><th>方案</th><th>新增定时器</th><th>定时器响应</th></tr></thead><tbody><tr><td>差分链</td><td>O(n)</td><td>O(1)</td></tr><tr><td>最小堆</td><td>O(lgn)</td><td>O(1)</td></tr><tr><td>时间轮</td><td>O(1)</td><td>O(1)</td></tr></tbody></table><h3 id="时间轮优化"><a href="#时间轮优化" class="headerlink" title="时间轮优化"></a>时间轮优化</h3><p>到了这里，终于到了我为何要写今天这篇文章的起因了。我在实现水表法的过程，发觉其实水表法时间轮的新增定时器的时间复杂度并不是O(1)，应该是O(m)，这个m是时间轮的个数。</p><p>上面我们也说了，为什么会发展出多层时间轮，主要就是为了解决单个时间轮不能调度超过一圈时间的定时器，即不能添加任意时间的定时器。虽然严格点说，多层定时器，也有一个最大的时间界限，只不过这个界限随着轮子数的扩充，指数级增长，约等于任意时间了。但轮子数的增加，也带来了一个新的问题，就是时间轮之间的维护。</p><p>多层时间轮新增定时器的时间复杂度为O(m)，定时器响应的时间复杂度为O(1)。但我在实现过程中却发现，多层时间轮管理器的维护开销不容小觑。但我们往往衡量一个定时器系统是并不太关注其内部运行维护的开销。</p><p>以一个5层10插槽的时间轮为例，现在各层的指针指向的插槽值为[9,9,9,9,2]，</p><ul><li>现在来了一个新的tick，第1层指向了0，需要更新当前时间轮的插槽的定时器列表，则需要向上请求</li><li>第2层收到请求，指针+1，发现归0，向第3层请求，</li><li>第3层收到请求，指针+1，发现归0，向第4层请求</li><li>第4层收到请求，指针+1，发现归0，向第5层请求</li><li>第5层收到请求，指针+1，指向3，取出3中的定时器列表，下发到第4层</li><li>第4层收到定时器列表，遍历依次插入对应的插槽，取出0中的定时器，下发到第3层</li><li>第3层收到定时器列表，遍历依次插入对应的插槽，取出0中的定时器，下发到第2层</li><li>第2层收到定时器列表，遍历依次插入对应的插槽，取出0中的定时器，下发到第1层</li><li>第1层收到定时器列表，遍历依次插入对应的插槽，取出0中的定时器，执行</li></ul><p>这里可以看出，这种向上访问，再下放的方式，其维护开销的时间复杂度为O($log_{10}^{n}$)。因此，从一个定时器添加到多层时间轮管理到执行，总的时间复杂度为O(m+$log_{10}^n$)。</p><p>这个时候，我想到了单层时间轮和差分链，那么分别看看单层时间轮和差分链的几项指标</p><ul><li>新增定时器<ul><li>单层时间轮：O(1)，一次取余操作插入对应的插槽，但不能添加任意时间的定时器</li><li>差分链：O(n)，依次遍历链上对象，找到合适的位置插入，但可以添加任意时间的定时器</li></ul></li><li>运行时维护<ul><li>单层时间轮：时间轮指针移动，不用操作定时器</li><li>差分链：链首对象定时值减1</li></ul></li><li>定时器响应<ul><li>单层时间轮：取出指向插槽的定时器，执行</li><li>差分链：取出链首定时器，执行</li></ul></li></ul><p>我就想，把单层定时器和差分链嫁接一下，就有了我的“改进”版单层时间轮。</p><p>我的时间轮方案中，时间轮管理器内部维护一个动态数组，和一个单层时间轮。每次新增定时器时，先判断其是否会在本轮剩余时间内启动，如果会启动，则加入相应的插槽；如果不会启动，则插入动态数组中，这里通过二分查找法，可以达到O(lgn)的复杂度，总的来说，该方案新增定时器的时间复杂度为O(lgn)。</p><p>而后只需在每次时间轮转完一圈后，启动一次时间轮更新操作就可以完成更新，即依次遍历动态数组，取出小于一本轮终点tick的定时器，插入时间轮插槽，这里的动态数组由于先前插入时经过二分查找法，是一个顺序数组，因此不会有额外的操作，但询问到一个不合规的定时器，即可跳出循环。因此，这里的运行维护，可以认为是O(1)。</p><p>最后的执行阶段，则同单层定时器一样，按指针选择执行即可，复杂度为O(1)。</p><p>因此，本文提出的改进方案的三项复杂度分别为，新增定时器O(lgn)、运行时维护O(1)、定时器响应O(1)。与多层定时器O(m+lgn)相比，本文方案复杂度为O(lgn)，好想更好一点，而且本文方案是真正支持任意时间的定时器，虽然这个功能并不算什么。</p><h3 id="结"><a href="#结" class="headerlink" title="结"></a>结</h3><p>其实后来自己想了想，这样动态数组+单层定时器的组合方式初看似乎是比多层时间轮更好，但这里其实忽略了动态数组的维护损耗，但动态数组的维护损耗又很难量化。当数量达到一定量级的定时器任务时，孰优孰劣就很难说了。</p><p>暂时就到这里了，网络上林林总总也没看到有人这方面的比较，就记录一下，至少这个网课没白上。😊</p><p><a href="https://github.com/lizardlove/networkPorject/tree/master/lesson5" target="_blank" rel="noopener">实现代码</a></p></div><div class="post-share">分享到：</div><footer class="post-footer"><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/threeJsNote/" rel="next" title="Three.js 速记"><i class="fa fa-chevron-left"></i> Three.js 速记</a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"><a href="/theatre/" rel="prev" title="剧场">剧场 <i class="fa fa-chevron-right"></i></a></div></div></footer></div></article><div class="post-spread"></div></div></div><div class="comments" id="comments"><div id="disqus_thread"><div id="dsqjs"><section class="dsqjs-info"><p id="dsqjs-load-disqus" class="dsqjs-message">评论完整模式加载中...如果长时间无法加载，请针对 disq.us | disquscdn.com | disqus.com 启用代理</p></section></div></div></div><script type="text/javascript">window.DISQUS=null,new DisqusJS({shortname:"pipiper",siteName:"Pipiper coming !",identifier:"timeWheel/",url:"http://blog.lizardlove.ren/timeWheel/",api:"",apikey:"",admin:"pipiper",adminLabel:"废话"})</script></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span> <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span> <span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">Table of Contents</li><li class="sidebar-nav-overview" data-target="site-overview-wrap">Overview</li></ul><section class="site-overview-wrap sidebar-panel"><div class="site-overview"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" src="/images/card.jpg" alt="Pipiper"><p class="site-author-name" itemprop="name">Pipiper</p><p class="site-description motion-element" itemprop="description">多吃多骗</p></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/lizardlove" target="_blank" title="GitHub" data-balloon="GitHub" data-balloon-pos="up"><i class="fa fa-fw fa-github"></i></a> </span><span class="links-of-author-item"><a href="https://twitter.com/xiyiailoli" target="_blank" title="Twitter" data-balloon="Twitter" data-balloon-pos="up"><i class="fa fa-fw fa-twitter"></i></a> </span><span class="links-of-author-item"><a href="mailto:xiyiailoli@gmail.com" target="_blank" title="Gmail" data-balloon="Gmail" data-balloon-pos="up"><i class="fa fa-fw fa-envelope"></i></a> </span><span class="links-of-author-item"><a href="https://t.me/PipiperZhang" target="_blank" title="Telegram 频道" data-balloon="Telegram 频道" data-balloon-pos="up"><i class="fa fa-fw fa-telegram"></i></a></span></div><div class="feed-link motion-element"><a class="feed-rss" href="/atom.xml" rel="alternate" target="_blank"><i class="fa fa-rss"></i> <span>RSS 订阅</span></a></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"><a href="/archives"><span class="site-state-item-count">20</span> <span class="site-state-item-name">posts</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/index.html"><span class="site-state-item-count">3</span> <span class="site-state-item-name">categories</span></a></div></nav><div class="cc-license motion-element" itemprop="license"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" class="cc-opacity" target="_blank"><img src="/images/cc-by-nc-sa.png" alt="Creative Commons"></a></div></div></section><section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active"><div class="post-toc"><div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#设备时钟系统"><span class="nav-number">1.</span> <span class="nav-text">设备时钟系统</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#定时响应"><span class="nav-number">2.</span> <span class="nav-text">定时响应</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#链表"><span class="nav-number">2.1.</span> <span class="nav-text">链表</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#树"><span class="nav-number">2.2.</span> <span class="nav-text">树</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#时间轮"><span class="nav-number">2.3.</span> <span class="nav-text">时间轮</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#时间轮优化"><span class="nav-number">3.</span> <span class="nav-text">时间轮优化</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#结"><span class="nav-number">4.</span> <span class="nav-text">结</span></a></li></ol></div></div></section></div></aside></div></main><footer id="footer" class="footer"><div class="footer-image"></div><div class="footer-inner"><p>博客已萌萌哒运行<span id="since"></span><span class="my-face">(●'◡'●)ﾉ♥</span></p><p>托管于<a href="https://github.com/" target="_blank" rel="nofollow"> GitHub</a>. <a href="http://www.google.com/analytics/" target="_blank" rel="nofollow">Google Analytics </a>提供网站统计服务.</p><p>© <span itemprop="copyrightYear">2021</span> Pipiper coming !. 由 <a href="https://hexo.io/" target="_blank" class="external" rel="nofollow">Hexo</a> 强力驱动. Theme By <a href="https://github.com/DIYgod/hexo-theme-sagiri" target="_blank" class="external" rel="nofollow">Sagiri</a> v0.0.53. <a href="/sitemap.xml" target="_blank">站点地图</a>. .</p><p>Made with <i class="fa fa-heart throb" style="color:#d43f57"></i> by <span class="author" itemprop="copyrightHolder">Pipiper</span>.</p></div></footer><div class="back-to-top"><i class="fa fa-arrow-up"></i></div><canvas id="evanyou"></canvas><div id="aplayer-fixed"></div></div><script type="text/javascript" src="/js/sagiri.min.js?v=0.0.53"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });</script><script type="text/x-mathjax-config">MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });</script><script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script><script>var serviceWorkerUri="/sw.js";"serviceWorker"in navigator?navigator.serviceWorker.register(serviceWorkerUri).then(function(){navigator.serviceWorker.controller?console.log("Assets cached by the controlling service worker."):console.log("Please reload this page to allow the service worker to handle network operations.")}).catch(function(e){console.log("ERROR: "+e)}):console.log("Service workers are not supported in the current browser.")</script></body></html>