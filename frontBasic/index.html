<!DOCTYPE html><html class="theme-next pisces" lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="theme-color" content="#fff"><link rel="preload" href="/fonts/sigmarone3.woff2" as="font" type="font/woff2" crossorigin="anonymous"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><link href="https://cdn.jsdelivr.net/npm/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css"><link href="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/css/share.min.css" rel="stylesheet" type="text/css"><link href="/css/main.css?v=0.0.53" rel="stylesheet" type="text/css"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png?v=0.0.53"><link rel="icon" type="image/png" sizes="32x32" href="/favicon.ico?v=0.0.53"><link rel="mask-icon" href="/safari-pinned-tab.svg?v=0.0.53" color="#fff"><link rel="manifest" href="/manifest.json"><meta name="keywords" content="Pipiper,blog"><link rel="alternate" href="/atom.xml" title="Pipiper coming !" type="application/atom+xml"><meta name="description" content="总体分为4个部分，比较常用的基础。HTMLCSSJS工程化"><meta property="og:type" content="article"><meta property="og:title" content="前端基础总结"><meta property="og:url" content="http://blog.lizardlove.ren/frontBasic/index.html"><meta property="og:site_name" content="Pipiper coming !"><meta property="og:description" content="总体分为4个部分，比较常用的基础。HTMLCSSJS工程化"><meta property="og:locale" content="en_US"><meta property="og:image" content="http://blog.lizardlove.ren/images/audioProcess.png"><meta property="article:published_time" content="2019-04-06T16:00:00.000Z"><meta property="article:modified_time" content="2020-01-06T10:35:30.751Z"><meta property="article:author" content="Pipiper"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="http://blog.lizardlove.ren/images/audioProcess.png"><script type="text/javascript" id="hexo.configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Pisces",version:"0.0.53",sidebar:{position:"right",display:"always",offset:52,b2t:!1,scrollpercent:!1,onmobile:!1},fancybox:!1,tabs:!0,motion:{enable:!1,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},since:"1/1/2017 11:30:00",onlineAPI:"",site:{title:"Pipiper coming !",subtitle:"",author:"Pipiper"},duoshuo:{userId:"0",author:"Author"},algolia:{applicationID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},leancloud:{enable:!1,appID:"Ti5mwFDXXbpWqeWdaydLNfOS-gzGzoHsz",appKey:"rXpryRyVs5jlk2LAGGI1bfEd"},favicon:{visibilitychange:!0,narmal:"/favicon.ico",hidden:"/failure.ico",show_text:"(/≧▽≦/)咦！又好了！",hide_text:"(●—●)喔哟，崩溃啦！"}}</script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/disqusjs@1.2.2/dist/disqus.js"></script><link rel="canonical" href="http://blog.lizardlove.ren/frontBasic/"><title>前端基础总结 | Pipiper coming !</title><script>!function(e,a,t,n,g,c,o){e.GoogleAnalyticsObject=g,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,c=a.createElement(t),o=a.getElementsByTagName(t)[0],c.async=1,c.src="https://www.google-analytics.com/analytics.js",o.parentNode.insertBefore(c,o)}(window,document,"script",0,"ga"),ga("create","UA-155379950-1","auto"),ga("send","pageview")</script><meta name="generator" content="Hexo 4.2.0"></head><body itemscope itemtype="http://schema.org/WebPage" lang="en" class="theme-darling"><div class="container sidebar-position-right page-post-detail"><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-首页"><a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br>首页</a></li><li class="menu-item menu-item-联系"><a href="javascript:;" rel="section"><i class="menu-item-icon fa fa-fw fa-sign-language"></i><br>联系</a></li><li class="menu-item menu-item-归档"><a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br>归档</a></li><li class="menu-item menu-item-留言板"><a href="/message/" rel="section"><i class="menu-item-icon fa fa-fw fa-pencil"></i><br>留言板</a></li><li class="menu-item search"><form class="search-form"><input name="keyword" type="text" class="search-input" placeholder="站内搜索"> <button type="submit" class="search-submit"><i class="fa fa-search"></i></button></form></li></ul></nav><div class="site-brand-wrapper" style="background-image:url(/images/header-asphy.jpg)"><div class="site-meta"><div class="custom-logo-site-title"><div class="brand"><span class="logo-line-before"><i></i></span><div class="site-title"><div id="animate" class="animate"><span>P</span><span>i</span><span>p</span><span>i</span><span>p</span><span>e</span><span>r</span><span> </span><span>c</span><span>o</span><span>m</span><span>i</span><span>n</span><span>g</span><span> </span><span>!</span></div><div id="guide" class="guide"><span>P</span><span>i</span><span>p</span><span>i</span><span>p</span><span>e</span><span>r</span><span> </span><span>c</span><span>o</span><span>m</span><span>i</span><span>n</span><span>g</span><span> </span><span>!</span></div></div><span class="logo-line-after"><i></i></span></div></div><p class="site-subtitle"></p></div><div class="site-nav-toggle"><button><span class="btn-bar"></span> <span class="btn-bar"></span> <span class="btn-bar"></span></button></div></div><div class="site-master" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-master-avatar" itemprop="image" src="/images/Pipiper.jpg" alt="Pipiper"><h2 class="site-master-description" itemprop="description"><span>Life is a single player game.</span></h2></div></div></header><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><div id="posts" class="posts-expand"><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-date"><div class="post-month">04月</div><div class="post-day">07</div></div><div class="post-badge"><span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E6%80%BB%E7%BB%93/" itemprop="url" rel="index"><span itemprop="name">总结</span></a></span></div><div class="post-block"><link itemprop="mainEntityOfPage" href="http://blog.lizardlove.ren/frontBasic/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="Pipiper"><meta itemprop="description" content=""><meta itemprop="image" content="/images/Pipiper.jpg"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Pipiper coming !"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">前端基础总结</h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">Posted on</span> <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-04-07T00:00:00+08:00">2019-04-07</time> </span><span class="post-wordcount"><span class="post-meta-divider">•</span> <span class="post-meta-item-icon"><i class="fa fa-file-word-o"></i> </span><span class="post-meta-item-text">Words count in article</span> <span title="Words count in article">9696</span></span></div></header><div class="post-body" itemprop="articleBody"><p>总体分为4个部分，比较常用的基础。</p><ul><li><a href="#html">HTML</a></li><li><a href="#css">CSS</a></li><li><a href="#js">JS</a></li><li><a href="#fact">工程化</a></li></ul><a id="more"></a><h2 id="html">HTML</h2>### 标签基础<p><code>块</code>: div, form, h1-h6, menu, ul, ol, p, section, nav, article, aside</p><p><code>行内</code>: a, br, em, img, input, label, select, span, strong, textarea</p><p><code>全局属性</code></p><ul><li>id：元素的唯一id | text</li><li>class：元素的一个或多个类名 | text</li><li>style：元素的行内css样式</li><li>title：有关元素的额外信息 | text</li><li>data-*：存储页面或应用程序的私有定制数据 | text</li><li>contenteditable：元素内容是否可编辑 | bool</li><li>draggable：元素是否可拖动 | bool</li><li>hidden：元素是否隐藏 | bool</li><li>dir：元素中内容的文本方向 | rtl(ltr)</li></ul><p><code>head</code></p><ul><li>DOCTYPE：声明文档类型，标准模式还是混合模式，按照HTML4.0.4还是HTML最新标准渲染</li><li>meta：元数据<ul><li>charset：字符编码，汉字UTF-8</li><li>http-equiv：改变服务器和用户引擎渲染行为的编译</li><li>name：页面设置，SEO<ul><li>application-name, author, description, keywords</li><li><a href="https://blog.csdn.net/zhouziyu2011/article/details/60570547" target="_blank" rel="noopener">viewport</a>：移动端页面宽高适配及用户行为<ul><li>width：设置layout viewport的宽度，“width-device”设置为ideal viewport的宽度</li><li>initial-scale：设置页面初始缩放值</li><li>minimum-scale：允许用户最小缩放值</li><li>maximum-scale：允许用户最大缩放值</li><li>user-scalable：是否允许用户缩放</li></ul></li></ul></li></ul></li><li>CSS加载<ul><li><code>link</code>是HTML方式， <code>@import</code>是CSS方式</li><li><code>link</code>最大限度支持并行下载，<code>@import</code>过多嵌套导致串行下载，出现<a href="http://www.bluerobot.com/web/css/fouc.asp/" target="_blank" rel="noopener">FOUC</a></li><li><code>link</code>可以通过<code>rel=&quot;alternate stylesheet&quot;</code>指定候选样式</li><li>浏览器对<code>link</code>支持早于<code>@import</code>，可以使用<code>@import</code>对老浏览器隐藏样式</li><li><code>@import</code>必须在样式规则之前，可以在css文件中引用其他文件</li></ul></li></ul><p><code>语义化</code></p><ul><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/Guide/HTML/HTML5/HTML5_element_list" target="_blank" rel="noopener">html语义化</a>：使用包含语义的标签标示<strong>文档结构</strong><ul><li>body定义主节段，section, article, aside, nav等显式定义节段，可嵌套</li><li>每个节段内部，使用好h1-h6，div等隐式定义节段</li><li>导航节段nav，侧边节段aside</li><li>正文大纲之外，引用blockquote, figure， 检索details，分组fieldset等为独立大纲</li></ul></li><li>css语义化： 使用有意义的class，id补充未表达的语义</li><li>优势<ul><li>页面结构清晰</li><li>利于持续更新及维护</li><li>利于搜索引擎抓取，收录</li><li>利于盲人阅读</li></ul></li></ul><p><code>渐进增强/优雅降级</code></p><ul><li>渐进增强：首先保证所有人都能访问的基本实现完备，再逐渐针对高性能用户提供更好的用户体验</li><li>优雅降级：以完全实现设计要求为目标，对低性能用户进行适配</li></ul><p><code>img</code>：行内元素，不受同源策略影响</p><ul><li>title：图片的建议信息</li><li>alt：图片未加载时的占位提示信息</li></ul><h3 id="HTML-5-新特性"><a href="#HTML-5-新特性" class="headerlink" title="HTML 5 新特性"></a>HTML 5 新特性</h3><p><code>Web Audio/Video</code></p><p><img src="../images/audioProcess.png" alt=""></p><p><a href="https://github.com/lizardlove/FuckerMusic/blob/master/public/js/music.js" target="_blank" rel="noopener">应用实例</a></p><p>Audio 对象</p><ul><li>autoplay：加载完成后立即播放</li><li>controls：播放控件</li><li>crossOrigin：音频CORS跨域设置</li><li>PlaybackRate：设置播放速度</li><li>duration：音频长度</li><li>ended：结束事件</li><li>loop：是否循环播放</li><li>paused：暂停</li><li>volume：音量</li></ul><p><a href="https://segmentfault.com/a/1190000017578650" target="_blank" rel="noopener"><code>Web Worker</code></a></p><ul><li>主线程：worker表示Worker实例<ul><li>worker.postMessage：主线程往worker线程发消息，消息可以是任意类型数据，包括二进制数据</li><li>worker.terminate：主线程关闭worker线程</li><li>worker.onmessage/worker.addEventListener(‘message’, callback)：worker返回信息的回调</li><li>worker.onerror/worker.addEvenetListener(‘error’, callback)，worker发生错误的回调</li></ul></li><li>Worker，self为worker线程的全局对象<ul><li>self.postMessage：向主线程发送消息</li><li>self.close：关闭自己</li><li>self.onmessage：接收主线程消息的回调</li><li>self.onerror：worker线程出错，向主线程传递错误信息</li></ul></li></ul><p>应用：碰撞检测，<a href="https://juejin.im/post/5acf348151882579ef4f5a77" target="_blank" rel="noopener">webpack+worker</a></p><p><code>Drop/Drag</code></p><p>属性</p><ul><li>target：拖动元素</li><li>type：事件类型</li><li>screentX,screenY：相对屏幕位置</li><li>clientX, clientY：相对客户端位置</li></ul><p>事件</p><ul><li>dragstart：拖动元素，起始事件，回调</li><li>dragend：拖动元素，结束事件，回调</li><li>dragenter：进入拖放区域事件，回调</li><li>.dragleave：离开拖放区域，回调</li><li>dragover：拖动元素时触发，回调，350ms</li><li>drop：释放拖动元素时触发，回调</li></ul><p>拖拽删除</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class&#x3D;&quot;wrapper&quot;&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">        &lt;li draggable&#x3D;&quot;true&quot;&gt;1&lt;&#x2F;li&gt;</span><br><span class="line">        &lt;li draggable&#x3D;&quot;true&quot;&gt;2&lt;&#x2F;li&gt;</span><br><span class="line">        &lt;li draggable&#x3D;&quot;true&quot;&gt;3&lt;&#x2F;li&gt;</span><br><span class="line">        &lt;li draggable&#x3D;&quot;true&quot;&gt;4&lt;&#x2F;li&gt;</span><br><span class="line">        &lt;li draggable&#x3D;&quot;true&quot;&gt;5&lt;&#x2F;li&gt;</span><br><span class="line">    &lt;&#x2F;ul&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;box&quot;&gt;垃圾桶&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">var oUl &#x3D; document.getElementsByTagName(&#39;ul&#39;)[0],</span><br><span class="line">    oBox &#x3D; document.getElementsByClassName(&#39;box&#39;)[0],</span><br><span class="line">    oLi &#x3D; document.getElementsByTagName(&#39;li&#39;),</span><br><span class="line">    len &#x3D; oLi.length;</span><br><span class="line">    </span><br><span class="line">function bindLiEvent()&#123;</span><br><span class="line">    for(var i &#x3D; 0; i &lt; len; i ++)&#123;</span><br><span class="line">        oLi[i].addEventListener(&#39;dragstart&#39;,function(e)&#123;</span><br><span class="line">            var index &#x3D; getIndex(this);</span><br><span class="line">            e.dataTransfer.setData(&#39;data&#39;, index);</span><br><span class="line">        &#125;);</span><br><span class="line">        oLi[i].addEventListener(&#39;dragover&#39;,function(e)&#123;</span><br><span class="line">            e.preventDefault();</span><br><span class="line">        &#125;);</span><br><span class="line">        oLi[i].addEventListener(&#39;drop&#39;,function(e)&#123;</span><br><span class="line">            var i &#x3D; e.dataTransfer.getData(&#39;data&#39;);</span><br><span class="line">            oUl.insertBefore(oLi[i], this);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F;获取列表最新的索引值</span><br><span class="line">function getIndex(dom)&#123;</span><br><span class="line">    for(var i &#x3D; 0; i &lt; len; i ++)&#123;</span><br><span class="line">        if(oLi[i] &#x3D;&#x3D;&#x3D; dom)&#123;                    </span><br><span class="line">            return i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line">function removeLi()&#123;</span><br><span class="line">    oBox.addEventListener(&#39;dragover&#39;,function(e)&#123;</span><br><span class="line">        e.preventDefault();</span><br><span class="line">    &#125;)</span><br><span class="line">    oBox.addEventListener(&#39;drop&#39;,function(e)&#123;</span><br><span class="line">        e.preventDefault();</span><br><span class="line">        var index &#x3D; e.dataTransfer.getData(&#39;data&#39;);</span><br><span class="line">        oLi[index].remove();</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line">bindLiEvent();</span><br><span class="line">removeLi ();</span><br></pre></td></tr></table></figure><p><code>Notification</code>：桌面消息通知</p><p>用户授权信息：Notification.permission===’granted/denied‘</p><p>请求权限：Notification.requestPermission().then(permission =&gt; {})</p><p>推送通知: new Notification(title, options)</p><ul><li><p>title：通知的标题</p><p>options：通知的设置选项（可选）。</p><ul><li>body：通知的内容。</li><li>tag：代表通知的一个识别标签，相同tag时只会打开同一个通知窗口。</li><li>icon：要在通知中显示的图标的URL。</li><li>image：要在通知中显示的图像的URL。</li><li>data：想要和通知关联的任务类型的数据。</li><li>requireInteraction：通知保持有效不自动关闭，默认为false。</li></ul></li></ul><p><a href="https://idsbllp.com/#/article/WebGL:%20canvas%20%E7%BB%98%E5%9B%BE%E4%B8%AD%E7%9A%84%203D%20%E7%89%88%E6%9C%AC" target="_blank" rel="noopener"><code>WebGL</code></a></p><h3 id="Canvas"><a href="#Canvas" class="headerlink" title="Canvas"></a>Canvas</h3><p><code>基础API</code></p><ul><li>路径：beginPath, moveTo, lineTo, stroke(描边)， fill(填充)</li><li>样式：fillStyle, strokeStyle</li><li>矩形：fillRect(x, y, width, height)</li><li>文本：fillText(str, x, y)</li><li>圆形/扇形：arc(x, y, radius, startAngle, endAngle, clockwise)</li><li>渐变色：createLinearGradient</li><li>阴影：shadowBlur/模糊度， shadowColor/阴影颜色，shadowOffsetX/Y 水平/垂直位移</li><li>图片：drawImage, getImageData, putImageData, toDataURL</li><li>上下文：save, restore</li></ul><p><a href="http://blog.lizardlove.ren/%E5%AD%A6%E4%B9%A0/%E5%8E%9F%E7%94%9Fcanvas%E6%B8%B8%E6%88%8F%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/"><code>渲染</code></a></p><p><code>碰撞检测</code></p><h3 id="表单"><a href="#表单" class="headerlink" title="表单"></a>表单</h3><p><code>属性</code></p><ul><li>value：初始值</li><li>readonly：只读</li><li>disabled：禁用</li><li>size：输入字段长度</li><li>input<ul><li>autofocus：输入焦点</li><li>form：formaction, formenctype, formmethod, formnovalidate</li><li>multiple：复式</li><li>pattern：正则过滤</li><li>required：必需</li><li>placeholder：默认提示信息</li></ul></li></ul><p><code>自定义样式</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type&#x3D;&quot;number&quot; id&#x3D;&quot;test&quot; &#x2F;&gt;</span><br><span class="line">&lt;label for&#x3D;&quot;test&quot;&gt;&lt;&#x2F;label&gt;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">input &#123;</span><br><span class="line">    position:absolute;</span><br><span class="line">    clip:rect(0,0,0,0);</span><br><span class="line">&#125;</span><br><span class="line">input + label:before:after &#123;</span><br><span class="line">    &#x2F;&#x2F;样式</span><br><span class="line">&#125;</span><br><span class="line">input:checked + label:before:after &#123;</span><br><span class="line">    &#x2F;&#x2F;样式</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>验证</code></p><ul><li><p>样式： :valid伪类</p></li><li><p>required: 必要输入</p></li><li><p>pattern：正则验证</p></li><li><p>validation</p></li></ul><p><code>基础元素</code></p><p>input, textarea, select, button</p><p>类型：text, number, password, submit, radio, checkbox, color, date, email,range, search, url, time</p><p><code>新增元素</code></p><p>datalist, keygen, output</p><p><code>JS控制表单</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">const ajaxForm &#x3D; (form, callback, async &#x3D; true) &#x3D;&gt; &#123;</span><br><span class="line">    let XHR &#x3D; new XMLHttpRequest()</span><br><span class="line">    let formData &#x3D; new FormData(form)</span><br><span class="line"></span><br><span class="line">    XHR.addEventListener(&#39;load&#39;, function(event) &#123;</span><br><span class="line">        callback.call(this, event.target.responseText)</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    XHR.open(form.method, form.action, async)</span><br><span class="line">    </span><br><span class="line">    XHR.setRequestHeader(&quot;Content-type&quot;, form.enctype)</span><br><span class="line"></span><br><span class="line">    XHR.send(formData)</span><br><span class="line"></span><br><span class="line">    return XHR</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">form.addEventListener(&quot;submit&quot;, function(event) &#123;</span><br><span class="line">    event.preventDefault()</span><br><span class="line">    </span><br><span class="line">    ajaxForm(this, callback);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="缓存"><a href="#缓存" class="headerlink" title="缓存"></a>缓存</h3><h4 id="本地存储"><a href="#本地存储" class="headerlink" title="本地存储"></a>本地存储</h4><h5 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h5><p><strong>作用</strong>：<code>http</code>会话标识，记录用户的有关信息，帮助站点保存信息，会话追踪</p><p><strong>属性</strong></p><ul><li>Name: cookie的名称，创建后不可修改</li><li>value: cookie值，相关信息进行字符编码后保存</li><li>domain: cookie的域名，访问限制</li><li>path: 访问路径，按路径访问cookie，子路径可方法父路径cookie</li><li>Max-Age: 有效期，单位秒，cookie在max-age秒后失效，负数为临时cookie,浏览器关闭即失效</li><li>size: cookie大小，最大4K</li><li>httponly: 是否可以通过脚本（JS）获取页面cookie</li><li>secure: 只能通过https传递cookie</li></ul><p><strong>特性</strong></p><ul><li>浏览器不能保存超过300个cookie，单个服务器不能超过20个</li><li>不可跨域名，按域名限制访问</li></ul><h5 id="Web-Storage"><a href="#Web-Storage" class="headerlink" title="Web Storage"></a>Web Storage</h5><p><strong>作用</strong>：提供访问特定域名下的会话存储<code>sessionStorage</code>或本地存储<code>localStorage</code>的功能，可添加，修改和删除，最大可存储5M，以字符串存储，用于储存用户访问的结构化数据，增强用户体验</p><p><strong>属性</strong></p><p><code>length</code> : 存储在Storage对象中的数据项数量</p><p><strong>方法</strong></p><p><code>Storage.key(n)</code> : 返回存储中的第n个键名</p><p><code>Storage.getItem(key)</code> : 返回对应的键值</p><p><code>Storage.setItem(key, value)</code> : 将键值对添加到存储中，键名存在，则更新</p><p><code>Storage.removeItem(key)</code> : 删除对应的键名</p><p><code>Storage.clear()</code> : 清空存储</p><p><strong>区别</strong></p><ul><li><code>localStorage</code> 无限期存储，手动删除；<code>sessionStorage</code>有效期至浏览器关闭</li><li><code>localStorage</code> 同源文档共享；<code>sessionStorage</code> 不能共享</li><li><code>localStorage</code> 的修改会触发其他窗口的update事件</li></ul><p>###HTTP</p><h4 id="method"><a href="#method" class="headerlink" title="method"></a>method</h4><table><thead><tr><th>方法</th><th>功能</th></tr></thead><tbody><tr><td>GET</td><td>请求资源</td></tr><tr><td>HEAD</td><td>确认资源有效性</td></tr><tr><td>POST</td><td>输入数据</td></tr><tr><td>PUT</td><td>使用请求主体新建文件，若存在就覆盖</td></tr><tr><td>DELETE</td><td>删除指定URL资源</td></tr><tr><td>OPTIONS</td><td>询问支持的方法</td></tr></tbody></table><p>####状态码</p><p><strong>1XX</strong> 信息性状态</p><table><thead><tr><th>状态码</th><th>信息</th></tr></thead><tbody><tr><td>100 Continue</td><td>客户端继续发送请求</td></tr><tr><td>101 switching protocols</td><td>请求正常识别，切换协议</td></tr></tbody></table><p><strong>2XX</strong> 成功</p><table><thead><tr><th>状态码</th><th>信息</th></tr></thead><tbody><tr><td>200 OK</td><td>客户端请求被正常处理了</td></tr><tr><td>204 No Content</td><td>请求被正常处理了，但响应中不包含主体</td></tr><tr><td>206 Partial Content</td><td>客户端范围请求被正确响应</td></tr></tbody></table><p><strong>3XX</strong> 重定向</p><table><thead><tr><th>状态码</th><th>信息</th></tr></thead><tbody><tr><td>301 Move Permanently</td><td>永久性重定向</td></tr><tr><td>302 Found</td><td>临时性重定向，强制POST转GET</td></tr><tr><td>303 See Other</td><td>临时性重定向—GET</td></tr><tr><td>304 Not Modified</td><td>发生请求条件不满足，客户端存在为过期缓存</td></tr><tr><td>307 Temporary Redirect</td><td>临时重定向，可以POST</td></tr></tbody></table><p><strong>4XX</strong> 客户端错误</p><table><thead><tr><th>状态码</th><th>信息</th></tr></thead><tbody><tr><td>400</td><td>请求报文语法错误</td></tr><tr><td>401</td><td>需要HTTP认证信息</td></tr><tr><td>403</td><td>请求资源被拒绝</td></tr><tr><td>404</td><td>请求资源不存在</td></tr></tbody></table><p><strong>5XX</strong> 服务器错误</p><table><thead><tr><th>状态码</th><th>信息</th></tr></thead><tbody><tr><td>500</td><td>服务器执行请求出错</td></tr><tr><td>503</td><td>服务器维护或超负载</td></tr></tbody></table><h4 id="HTTP报文"><a href="#HTTP报文" class="headerlink" title="HTTP报文"></a>HTTP报文</h4><h5 id="请求报文"><a href="#请求报文" class="headerlink" title="请求报文"></a>请求报文</h5><ul><li>首行是<strong>Request-Line</strong>包括：<strong>请求方法</strong>，<strong>请求URI</strong>，<strong>协议版本</strong>，<strong>CRLF</strong></li><li>首行之后是若干行<strong>请求头</strong>，包括<strong>general-header</strong>，<strong>request-header</strong>或者<strong>entity-header</strong>，每个一行以CRLF结束</li><li>请求头和消息实体之间有一个<strong>CRLF分隔</strong></li><li>根据实际请求需要可能包含一个<strong>消息实体</strong></li></ul><h5 id="响应报文"><a href="#响应报文" class="headerlink" title="响应报文"></a>响应报文</h5><ul><li>首行是状态行包括：<strong>HTTP版本，状态码，状态描述</strong>，后面跟一个CRLF</li><li>首行之后是<strong>若干行响应头</strong>，包括：<strong>通用头部，响应头部，实体头部</strong></li><li>响应头部和响应实体之间用<strong>一个CRLF空行</strong>分隔</li><li>最后是一个可能的<strong>消息实体</strong></li></ul><h4 id="HTTP请求流程"><a href="#HTTP请求流程" class="headerlink" title="HTTP请求流程"></a>HTTP请求流程</h4><ol><li>在浏览器地址栏输入URL</li><li>浏览器查看<strong>缓存</strong>，如果请求资源在缓存中并且新鲜，跳转到转码步骤<ol><li>如果资源未缓存，发起新请求</li><li>如果已缓存，检验是否足够新鲜，足够新鲜直接提供给客户端，否则与服务器进行验证。</li><li>检验新鲜通常有两个HTTP头进行控制<code>Expires</code>和<code>Cache-Control</code>：<ul><li>HTTP1.0提供Expires，值为一个绝对时间表示缓存新鲜日期</li><li>HTTP1.1增加了Cache-Control: max-age=,值为以秒为单位的最大新鲜时间</li></ul></li></ol></li><li>浏览器<strong>解析URL</strong>获取协议，主机，端口，path</li><li>浏览器<strong>组装一个HTTP（GET）请求报文</strong></li><li>浏览器<strong>获取主机ip地址</strong>，过程如下：<ol><li>浏览器缓存</li><li>本机缓存</li><li>hosts文件</li><li>路由器缓存</li><li>ISP DNS缓存</li><li>DNS递归查询（可能存在负载均衡导致每次IP不一样）</li></ol></li><li><strong>打开一个socket与目标IP地址，端口建立TCP链接</strong>，三次握手如下：<ol><li>客户端发送一个TCP的<strong>SYN=1，Seq=X</strong>的包到服务器端口</li><li>服务器发回<strong>SYN=1， ACK=X+1， Seq=Y</strong>的响应包</li><li>客户端发送<strong>ACK=Y+1， Seq=Z</strong></li></ol></li><li>TCP链接建立后<strong>发送HTTP请求</strong></li><li>服务器接受请求并解析，将请求转发到服务程序，如虚拟主机使用HTTP Host头部判断请求的服务程序</li><li>服务器检查<strong>HTTP请求头是否包含缓存验证信息</strong>如果验证缓存新鲜，返回<strong>304</strong>等对应状态码</li><li>处理程序读取完整请求并准备HTTP响应，可能需要查询数据库等操作</li><li>服务器将<strong>响应报文通过TCP连接发送回浏览器</strong></li><li>浏览器接收HTTP响应，然后根据情况选择<strong>关闭TCP连接或者保留重用，关闭TCP连接的四次握手如下</strong>：<ol><li>主动方发送<strong>Fin=1， Ack=Z， Seq= X</strong>报文</li><li>被动方发送<strong>ACK=X+1， Seq=Z</strong>报文</li><li>被动方发送<strong>Fin=1， ACK=X， Seq=Y</strong>报文</li><li>主动方发送<strong>ACK=Y， Seq=X</strong>报文</li></ol></li><li>浏览器检查响应状态吗：是否为1XX，3XX， 4XX， 5XX，这些情况处理与2XX不同</li><li>如果资源可缓存，<strong>进行缓存</strong></li><li>对响应进行<strong>解码</strong>（例如gzip压缩）</li><li>根据资源类型决定如何处理（假设资源为HTML文档）</li><li><strong>解析HTML文档，构件DOM树，下载资源，构造CSSOM树，执行js脚本</strong>，这些操作没有严格的先后顺序，以下分别解释</li><li><strong>构建DOM树</strong>：<ol><li><strong>Tokenizing</strong>：根据HTML规范将字符流解析为标记</li><li><strong>Lexing</strong>：词法分析将标记转换为对象并定义属性和规则</li><li><strong>DOM construction</strong>：根据HTML标记关系将对象组成DOM树</li></ol></li><li>解析过程中遇到图片、样式表、js文件，<strong>启动下载</strong></li><li>构建<strong>CSSOM树</strong>：<ol><li><strong>Tokenizing</strong>：字符流转换为标记流</li><li><strong>Node</strong>：根据标记创建节点</li><li><strong>CSSOM</strong>：节点创建CSSOM树</li></ol></li><li><strong><a href="https://developers.google.com/web/fundamentals/performance/critical-rendering-path/render-tree-construction" target="_blank" rel="noopener">根据DOM树和CSSOM树构建渲染树</a></strong>:<ol><li>从DOM树的根节点遍历所有<strong>可见节点</strong>，不可见节点包括：1）<code>script</code>,<code>meta</code>这样本身不可见的标签。2)被css隐藏的节点，如<code>display: none</code></li><li>对每一个可见节点，找到恰当的CSSOM规则并应用</li><li>发布可视节点的内容和计算样式</li></ol></li><li><strong>js解析如下</strong>：<ol><li>浏览器创建Document对象并解析HTML，将解析到的元素和文本节点添加到文档中，此时<strong>document.readystate为loading</strong></li><li>HTML解析器遇到<strong>没有async和defer的script时</strong>，将他们添加到文档中，然后执行行内或外部脚本。这些脚本会同步执行，并且在脚本下载和执行时解析器会暂停。这样就可以用document.write()把文本插入到输入流中。<strong>同步脚本经常简单定义函数和注册事件处理程序，他们可以遍历和操作script和他们之前的文档内容</strong></li><li>当解析器遇到设置了<strong>async</strong>属性的script时，开始下载脚本并继续解析文档。脚本会在它<strong>下载完成后尽快执行</strong>，但是<strong>解析器不会停下来等它下载</strong>。异步脚本<strong>禁止使用document.write()</strong>，它们可以访问自己script和之前的文档元素</li><li>当文档完成解析，document.readState变成interactive</li><li>所有<strong>defer</strong>脚本会<strong>按照在文档出现的顺序执行</strong>，延迟脚本<strong>能访问完整文档树</strong>，禁止使用document.write()</li><li>浏览器<strong>在Document对象上触发DOMContentLoaded事件</strong></li><li>此时文档完全解析完成，浏览器可能还在等待如图片等内容加载，等这些<strong>内容完成载入并且所有异步脚本完成载入和执行</strong>，document.readState变为complete,window触发load事件</li></ol></li><li><strong>显示页面</strong>（HTML解析过程中会逐步显示页面）</li></ol><h3 id="WebSocket"><a href="#WebSocket" class="headerlink" title="WebSocket"></a>WebSocket</h3><blockquote><p>作为浏览器与服务器全双工通信的媒介，可以传输基于消息的文本和二进制数据，以数据流的方式实现数据交换，两端可以随时向对方发送数据。在享受全双工长连接通信的同时，不再享有HTTP连接的服务和优化，如状态管理，压缩，缓存等。</p></blockquote><h4 id="API"><a href="#API" class="headerlink" title="API"></a>API</h4><p>浏览器提供<code>WebSocket</code>对象用于创建WebSocket连接，以及用于通信控制的相关API</p><h5 id="创建"><a href="#创建" class="headerlink" title="创建"></a>创建</h5><p>使用浏览器提供的WebSocket构造函数创建一个websocket实例</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const socket &#x3D; new WebSocket(uri, protocols)</span><br></pre></td></tr></table></figure><p><strong>uri</strong></p><p><code>websocket uri</code> 采用自定义模式，可选 <code>ws</code> 和 <code>wss</code></p><p><code>ws</code> : 表示纯文本通信，普通请求，占用80端口</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;ws:&#x2F;&#x2F;&quot;host[&quot;:&quot;port]path[&quot;?&quot;query]</span><br></pre></td></tr></table></figure><p><code>wss</code> : 表示使用加密信道通信（TCP + TLS），基于SSL的安全传输，占用443端口</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;wss:&#x2F;&#x2F;&quot;host[&quot;:&quot;port]path[&quot;?&quot;query]</span><br></pre></td></tr></table></figure><p>因为 <code>WebSocket</code> 最初建立连接时是借助<strong>HTTP协议</strong> ，后续是基于<strong>TCP **进行通信，而部分</strong>HTTP** 中间件可能不理解新的<strong>WebSocket协议</strong> ，而这可能导致一些问题：盲目的连接升级，意外缓冲WebSocket帧，修改内容，把WebSocket流量误当作不完整的HTTP通信，而这就需要一条加密信道，所有引入了<strong>wss</strong> ，它建立了一条端到端的安全通道，这条加密信道对中间设备模糊了数据，因此中间设备就不能再感知到数据内容，也就无法在对请求<strong>特殊处理</strong>。</p><p><strong>protocols</strong></p><p>可以自定义的一套用于传输数据的子协议。WebSocket自身只提供基本的文本和二进制数据传输，对消息的具体内容格式不保证。但服务器和客户端可以自定义一套有关消息元数据的格式的子协议，进而简洁实现其他格式数据的传输。</p><p>在服务器定义协议数据的格式要求，通过<strong>protocols</strong> 这个参数，客户端和服务器进行互相选择，按照约定的方式处理发送及接受到的数据。</p><h5 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h5><p><code>WebSocket</code> 实例提供的属性接口</p><table><thead><tr><th>属性名</th><th>类型</th><th>描述</th></tr></thead><tbody><tr><td>binary</td><td>DOMString</td><td>传输数据的类型。<strong>blob</strong> 或 <strong>arraybuffer</strong></td></tr><tr><td>bufferedAmout</td><td>unsigned long</td><td><strong>只读</strong> ，数据队列中等待传输但还未发出的数据长度</td></tr><tr><td>extensions</td><td>DOMString</td><td>服务器提供的可扩展协议的列表</td></tr><tr><td>protocol</td><td>DOMString</td><td>选定的子协议名字的字符串</td></tr><tr><td>readyState</td><td>unsigned short</td><td><strong>只读</strong> ，连接的当前状态</td></tr><tr><td>url</td><td>DOMString</td><td><strong>只读</strong> ，通信地址</td></tr></tbody></table><h5 id="常量"><a href="#常量" class="headerlink" title="常量"></a>常量</h5><p><code>readyState</code> 属性的取值，标识当前<code>WebSocket</code> 的连接状态</p><table><thead><tr><th>常量</th><th>值</th><th>描述</th></tr></thead><tbody><tr><td>CONNECTING</td><td>0</td><td>连接还没开启</td></tr><tr><td>OPEN</td><td>1</td><td>连接已开启并准备好进行通信</td></tr><tr><td>CLOSING</td><td>2</td><td>连接正在关闭的过程中</td></tr><tr><td>CLOSED</td><td>3</td><td>连接已经关闭，或连接无法建立</td></tr></tbody></table><h5 id="事件"><a href="#事件" class="headerlink" title="事件"></a>事件</h5><ul><li>open</li></ul><p><code>WebSocket</code> 连接被响应或服务器的连接请求，当<code>readyState</code> 的值为<code>OPEN</code> 时触发该事件，接收一个名为<code>open</code>的事件对象</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">socket.addEventListener(&quot;open&quot;, (e) &#x3D;&gt; &#123;</span><br><span class="line">    socket.send(&quot;Hello&quot;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ul><li>message</li></ul><p>当接收到来自服务器推送的消息时触发该事件，传入一个名为<code>message</code> 的事件对象</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">socket.addEventListener(&quot;message&quot;, (e) &#x3D;&gt; &#123;</span><br><span class="line">    console.log(e.data)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ul><li>error</li></ul><p>客户端或服务器报告错误信息时触发，并且会关闭连接，传入一个包含错误信息的名为<code>error</code> 的事件对象</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">socket.addEventListener(&quot;error&quot;, (error) &#x3D;&gt; &#123;</span><br><span class="line">    console.log(error)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ul><li>close</li></ul><p>连接关闭或连接失败时触发，客户端或服务器都可以发起关闭连接。服务器会发送关闭码，根据关闭码可以针对一些异常参数进行相关处理。传入一个包含关闭码的事件对象。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">socket.addEventListener(&quot;close&quot;, (e) &#x3D;&gt; &#123;</span><br><span class="line">    e.wasClean [Boolen] </span><br><span class="line">        true 客户端或服务器调用close方法主动关闭</span><br><span class="line">        false 连接失败或异常关闭</span><br><span class="line">    e.code [Number] 关闭连接的状态码</span><br><span class="line">    e.season [String] 关闭连接的原因 </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><table><thead><tr><th>状态码</th><th>名称</th><th>描述</th></tr></thead><tbody><tr><td>1000</td><td>CLOSE_NORMAL</td><td>正常关闭</td></tr><tr><td>1001</td><td>CLOSE_GOING_AWAY</td><td>终端离开，服务器错误或浏览器从打开的连接跳转离开</td></tr><tr><td>1002</td><td>CLOSE_PROTOCOL_ERROR</td><td>协议错误</td></tr><tr><td>1003</td><td>CLOSE_UNSUPPORTED</td><td>接收到不允许的数据类型</td></tr><tr><td>1005</td><td>CLOSE_NO_STATUS</td><td>没有收到预期的状态码</td></tr><tr><td>1006</td><td>CLOSE_ABNORMAL</td><td>没有关闭帧</td></tr><tr><td>1007</td><td>unsupported Data</td><td>接收到格式不符合的数据</td></tr><tr><td>1009</td><td>CLOSE_TOO_LARGE</td><td>接收到过大的数据帧</td></tr><tr><td>1011</td><td>Internal Error</td><td>客户端由于遇到没有预料的情况而断开链接</td></tr><tr><td>1012</td><td>Service Restart</td><td>服务器重启</td></tr><tr><td>1013</td><td>Try Again Later</td><td>服务器由于临时原因（负载）</td></tr><tr><td>1015</td><td>TLS Handshake</td><td>连接无法完成TLS握手</td></tr></tbody></table><h5 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h5><ul><li>send</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">socket.send(data)</span><br></pre></td></tr></table></figure><p>必须在连接建立后才可以发送数据，即<code>open</code> 事件触发后，也可以通过判断<code>readyState</code> 是否等于<code>OPEN</code> 常量，查看连接是否还活着。</p><p><code>data</code> 的数据类型可以是基本的<code>String</code>, <code>Blob</code>, <code>ArrayBuffer</code>, <code>ByteBuffer</code> 等，也可以是子协议商定的自定数据类型</p><ul><li>close</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">socket.close(code, reason)</span><br></pre></td></tr></table></figure><p>使用该方法可以正常关闭连接，<code>code</code> 为状态码，<code>reason</code> 为关闭信息，相关信息同<code>close事件</code>.</p><h4 id="升级协商"><a href="#升级协商" class="headerlink" title="升级协商"></a>升级协商</h4><p>前面描述过，创建<code>WebSocket</code> 连接时，可以通过<code>protocols</code> 参数进行协商扩展。所以<code>WebSocket</code> 协议具有很大的灵活性，而客户端和服务器先通过<code>HTTP</code>的方式协商适当的参数后才建立连接，完成协商后，所有信息的发送和接收不再后<code>HTTP</code> 相关，而是由<code>WebSocket</code> 协议自身基于TCP连接处理。</p><p>协商的过程中，使用了一些 <code>HTTP</code> 头域</p><ul><li>Sec-WebSocket-Version</li></ul><p>客户端发送，表示想使用的 <code>WebSocket</code> 协议版本</p><ul><li>Sec-WebSocket-Key</li></ul><p>客户端自动生成的一个键，以验证服务器支持请求的协议版本</p><ul><li>Sec-WebSokcet-Accept</li></ul><p>服务器响应，包含<strong>Sec-WebSocket-Accept</strong> 的签名值，证明支持请求的协议版本</p><ul><li>Sec-WebSocket-Protocol</li></ul><p>协商应用的子协议，客户端发送支持的协议列表，服务器回应支持的协议名</p><ul><li>Sec-WebSocket-Extensions</li></ul><p>协商相关的<code>WebSocket</code> 扩展，客户端发送支持的扩展，服务器返回自己支持的扩展</p><p>根据<code>HTTP header</code> 的设置，客户端与服务器完成升级协商，后面客户端不再发生<code>HTTP</code>通信 ，由<code>WebSocket</code> 协议接管</p><h4 id="应用场景"><a href="#应用场景" class="headerlink" title="应用场景"></a>应用场景</h4><p><code>WebSocket</code> 协议随着<code>HTML5</code> 的发展推进，因为其强大的自定义灵活性，长时连接，双向通信机制，广为应用，但<code>WebSocket</code> 不会取代<code>XHR</code> ，怎么使用，会对浏览器性能产生巨大的影响，我们需要认清该协议的长处，合理分配使用<code>WebSocket</code> 和<code>XHR</code> 。</p><p><strong>XHR</strong> 是专门为“事务型”请求/响应通信而优化的：依托于完善的<code>HTTP</code>协议， 客户端向服务器发送完整的，格式良好的<code>HTTP</code> 请求，服务器返回完整的响应。<strong>WebSocket</strong> 是唯一一个能通过同一个TCP连接实现双向通信的协议，客户端和服务器随时可以交换数据，保证低延迟传输。</p><p>通信时延大致可以分为四部分：<strong>传播时延</strong>， <strong>传输时延</strong> ，<strong>处理时延</strong>， <strong>排队时延</strong> 。</p><p>无论是什么协议，客户端与服务器的往返次数和传播时延是固定的，但采用不同的协议，可以有不同的排队时延，对<code>XHR</code> 来说，排队时延就是客户端的轮询间隔，而<code>WebSocket</code> 机制，可以在消息可用时立即发送，消除了排队时延，所以总的时延更小。</p><p><strong>HTTP</strong> 早已实践多年，具有广泛的应用，各种优化机制也已经被浏览器及服务器等设备实施，依托于完善的<strong>HTTP</strong> ，<strong>XHR</strong> 自然就继承了这些优秀的特性，而<strong>WebSocket</strong> 由其特殊性，可以让我们在客户端和服务器间自定义协议，但同样的就不能使用浏览器提供的很多优化服务，应用可能需要自己实现一些基础功能，如缓存，状态管理等。</p><p>总的来说，<strong>WebSocket</strong> 是为实时双向通信而设计的，并提供高效，灵活的文本，二进制数据传输和自定义协议，<strong>XHR</strong> 是为短时突发性异步通信设计的，依托于完善的<strong>HTTP</strong> 协议，成熟而稳定。所以选择时需要根据不同的场景选择恰当的通信方式，合理选择，利益这些机制的长处以求得最佳性能。</p><h4 id="Socket-IO"><a href="#Socket-IO" class="headerlink" title="Socket.IO"></a>Socket.IO</h4><p>由于不同的平台及浏览器版本对<strong>WebSocket</strong> 支持的不同，有人实现了<strong>socket.IO</strong> 这个库，提供跨平台实时通信的功能，它不仅是使用<strong>WebSocket</strong> ，还支持一系列降级功能，我们可以使用它逐渐向<strong>WebSocket</strong> 转换。</p><p><strong>优雅降级</strong></p><ul><li>WebSocket</li><li>AJAX long polling</li><li>AJAX multipart streaming</li><li>JSONP Polling</li><li>Iframe</li></ul><h3 id="从URL到页面显示"><a href="#从URL到页面显示" class="headerlink" title="从URL到页面显示"></a><a href="https://zhuanlan.zhihu.com/p/34453198?group_id=957277540147056640" target="_blank" rel="noopener">从URL到页面显示</a></h3><h3 id="移动端"><a href="#移动端" class="headerlink" title="移动端"></a>移动端</h3><p><a href="https://www.cnblogs.com/zaoa/p/8630393.html" target="_blank" rel="noopener"><code>物理像素/逻辑像素</code></a></p><p><code>300延迟</code></p><p>实质：在移动端，当用户点击，分别触发touchstart, touchend, click，同时浏览器判断是否有双击，造成点击事件延迟触发。</p><p>点击渗透：假如页面上有两个元素A和B。B元素在A元素之上。我们在B元素的touchstart事件上注册了一个回调函数，该回调函数的作用是隐藏B元素。我们发现，当我们点击B元素，B元素被隐藏了，随后，A元素触发了click事件。</p><p>解决</p><ul><li><p>禁用缩放</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta name&#x3D;&quot;viewport&quot; content&#x3D;&quot;user-scalable&#x3D;no&quot;&gt;</span><br><span class="line">&lt;meta name&#x3D;&quot;viewport&quot; content&#x3D;&quot;initial-scale&#x3D;1,maximum-scale&#x3D;1&quot;&gt;</span><br></pre></td></tr></table></figure></li><li><p>css trick 取消touch判定 touch-action:none；</p></li><li><p>fastlick: 在touchend结束后直接自定义DOM事件模拟click触发回调</p></li></ul><h2 id="css">CSS</h2>### CSS基础<h4 id="CSS世界笔记"><a href="#CSS世界笔记" class="headerlink" title="CSS世界笔记"></a><code>CSS世界</code>笔记</h4><p>BFC`: 块级格式上下文</p><p>创建规则</p><ul><li>根元素</li><li>浮动元素</li><li>绝对定位元素，absolute, fixed</li><li>display: inline-block/table-cell/table-caption/flex/inline-flex</li><li>overflow不是visible</li></ul><p>作用</p><ul><li>包裹浮动元素</li><li>不被浮动元素覆盖</li><li>margin折叠</li></ul><h4 id="选择器"><a href="#选择器" class="headerlink" title="选择器"></a>选择器</h4><ol><li>*通用选择器：选择所有元素，不参与计算优先级，兼容性IE6+ *</li><li>#X id选择器：选择id值为X的元素，兼容性：IE6+ *</li><li>.X 类选择器： 选择class包含X的元素，兼容性：IE6+</li><li>X Y后代选择器： 选择满足X选择器的后代节点中满足Y选择器的元素，兼容性：IE6+</li><li>X 元素选择器： 选择标所有签为X的元素，兼容性：IE6+</li><li>:link，：visited，：focus，：hover，：active链接状态： 选择特定状态的链接元素，顺序LoVe HAte， 兼容性: IE4+</li><li>X + Y直接兄弟选择器：在X之后第一个兄弟节点中选择满足Y选择器的元素，兼容性： IE7+</li><li>X &gt; Y子选择器： 选择X的子元素中满足Y选择器的元素，兼容性： IE7+</li><li>X ~ Y兄弟： 选择X之后所有兄弟节点中满足Y选择器的元素，兼容性： IE7+</li><li>[attr]：选择所有设置了attr属性的元素，兼容性IE7+</li><li>[attr=value]：选择属性值刚好为value的元素</li><li>[attr~=value]：选择属性值为空白符分隔，其中一个的值刚好是value的元素</li><li>[attr|=value]：选择属性值刚好为value或者value-开头的元素</li><li>[attr^=value]：选择属性值以value开头的元素</li><li>[attr$=value]：选择属性值以value结尾的元素</li><li>[attr*=value]：选择属性值中包含value的元素</li><li>[:checked]：选择单选框，复选框，下拉框中选中状态下的元素，兼容性：IE9+</li><li>X:after, X::after：after伪元素，选择元素虚拟子元素（元素的后一个子元素），CSS3中::表示伪元素。兼 容性:after为IE8+，::after为IE9+</li><li>:hover：鼠标移入状态的元素，兼容性a标签IE4+， 所有元素IE7+</li><li>:not(selector)：选择不符合selector的元素。不参与计算优先级，兼容性：IE9+</li><li>::ﬁrst-letter：伪元素，选择块元素第一行的第一个字母，兼容性IE5.5+</li><li>::ﬁrst-line：伪元素，选择块元素的第一行，兼容性IE5.5+</li><li>:nth-child(an + b)：伪类，选择前面有an + b - 1个兄弟节点的元素，其中n &gt;= 0， 兼容性IE9+</li><li>:nth-last-child(an + b)：伪类，选择后面有an + b - 1个兄弟节点的元素 其中n &gt;= 0，兼容性IE9+</li><li>X:nth-of-type(an+b)：伪类，X为选择器，解析得到元素标签，选择前面有an + b - 1个相同标签兄弟节点的 元素。兼容性IE9+</li><li>X:nth-last-of-type(an+b)：伪类，X为选择器，解析得到元素标签，选择后面有an+b-1个相同标签兄弟节点 的元素。兼容性IE9+</li><li>X:ﬁrst-child：伪类，选择满足X选择器的元素，且这个元素是其父节点的第一个子元素。兼容性IE7+</li><li>X:last-child：伪类，选择满足X选择器的元素，且这个元素是其父节点的后一个子元素。兼容性IE9+</li><li>X:only-child：伪类，选择满足X选择器的元素，且这个元素是其父元素的唯一子元素。兼容性IE9+</li><li>X:only-of-type：伪类，选择X选择的元素，解析得到元素标签，如果该元素没有相同类型的兄弟节点时选中 它。兼容性IE9+</li><li>X:ﬁrst-of-type：伪类，选择X选择的元素，解析得到元素标签，如果该元素 是此此类型元素的第一个兄弟。 选中它。兼容性IE9+</li></ol><h4 id="display-none与visibility-hidden"><a href="#display-none与visibility-hidden" class="headerlink" title="display:none与visibility:hidden"></a><code>display:none与visibility:hidden</code></h4><p>联系：它们都能让元素不可见<br>区别：</p><ul><li>display:none;会让元素完全从渲染树中消失，渲染的时候不占据任何空间；visibility: hidden;不会让元素从 渲染树消失，渲染师元素继续占据空间，只是内容不可见</li><li>display: none;是非继承属性，子孙节点消失由于元素从渲染树消失造成，通过修改子孙节点属性无法显示； visibility: hidden;是继承属性，子孙节点消失由于继承了hidden，通过设置visibility: visible;可以让子孙节点 显式</li><li>修改常规流中元素的display通常会造成文档重排。修改visibility属性只会造成本元素的重绘。</li><li>读屏器不会读取display: none;元素内容；会读取visibility: hidden;元素内容</li></ul><p><code>继承属性</code>：font, word-break, letter-spacing, text-align, text-rendering, word-spacing, text-indent, text-transform, text-shadow, line-height, color, visibility, cursor</p><p><a href="https://www.zhangxinxu.com/wordpress/2016/08/vw-viewport-responsive-layout-typography/" target="_blank" rel="noopener"><code>移动端REM/vw/em</code></a>:基于页面根文档的<code>font-size</code>为基准，其他部分进行自适应</p><h3 id="布局"><a href="#布局" class="headerlink" title="布局"></a><a href="https://www.cnblogs.com/yanayana/p/7066948.html" target="_blank" rel="noopener">布局</a></h3><p>响应式布局：根据不同的屏幕尺寸，分配不同的布局，最大化用户体验 <code>@media sreen and ()</code></p><p>自适应布局：根据固定分割点分配页面，页面布局按比例像素级分配</p><p><a href="http://www.ruanyifeng.com/blog/2015/07/flex-grammar.html" target="_blank" rel="noopener"><code>Flex</code></a></p><p><a href="https://www.css88.com/archives/8510/comment-page-1" target="_blank" rel="noopener"><code>Grid</code></a></p><p><code>流式布局</code>：应用块级元素流特性布局，无宽度</p><p><code>圣杯布局</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset&#x3D;&quot;utf-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;实现三栏水平布局之圣杯布局&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;style type&#x3D;&quot;text&#x2F;css&quot;&gt;</span><br><span class="line">    .container &#123;</span><br><span class="line">        padding: 0 300px 0 200px;</span><br><span class="line">    &#125;</span><br><span class="line">    .left, .main, .right &#123;</span><br><span class="line">        position: relative;</span><br><span class="line">        min-height: 130px;</span><br><span class="line">        float: left;</span><br><span class="line">    &#125;</span><br><span class="line">    .left &#123;</span><br><span class="line">        left: -200px;</span><br><span class="line">        margin-left: -100%;</span><br><span class="line">        background: green;</span><br><span class="line">        width: 200px;</span><br><span class="line">    &#125;</span><br><span class="line">    .right &#123;</span><br><span class="line">        right: -300px;</span><br><span class="line">        margin-left: -300px;</span><br><span class="line">        background-color: red;</span><br><span class="line">        width: 300px;</span><br><span class="line">    &#125;</span><br><span class="line">    .main &#123;</span><br><span class="line">        background-color: blue;</span><br><span class="line">        width: 100%;</span><br><span class="line">    &#125;</span><br><span class="line">    &lt;&#x2F;style&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;div class&#x3D;&quot;container&quot;&gt; </span><br><span class="line">　　&lt;div class&#x3D;&quot;main&quot;&gt;main&lt;&#x2F;div&gt; </span><br><span class="line">　　&lt;div class&#x3D;&quot;left&quot;&gt;left&lt;&#x2F;div&gt; </span><br><span class="line">　　&lt;div class&#x3D;&quot;right&quot;&gt;right&lt;&#x2F;div&gt; </span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure><p><code>双飞翼布局</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset&#x3D;&quot;utf-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;实现三栏水平布局之双飞翼布局&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;style type&#x3D;&quot;text&#x2F;css&quot;&gt;</span><br><span class="line">    .left, .main, .right &#123;</span><br><span class="line">        float: left;</span><br><span class="line">        min-height: 130px;</span><br><span class="line">        text-align: center;</span><br><span class="line">    &#125;</span><br><span class="line">    .left &#123;</span><br><span class="line">        margin-left: -100%;</span><br><span class="line">        background: green;</span><br><span class="line">        width: 200px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .right &#123;</span><br><span class="line">        margin-left: -300px;</span><br><span class="line">        background-color: red;</span><br><span class="line">        width: 300px;</span><br><span class="line">    &#125;</span><br><span class="line">    .main &#123;</span><br><span class="line">        background-color: blue;</span><br><span class="line">        width: 100%;</span><br><span class="line">    &#125;</span><br><span class="line">    .content&#123;</span><br><span class="line">        margin: 0 300px 0 200px;</span><br><span class="line">    &#125;</span><br><span class="line">    &lt;&#x2F;style&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;div class&#x3D;&quot;container&quot;&gt; </span><br><span class="line">　　&lt;div class&#x3D;&quot;main&quot;&gt;</span><br><span class="line">    　　&lt;div class&#x3D;&quot;content&quot;&gt;main&lt;&#x2F;div&gt; </span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">　　&lt;div class&#x3D;&quot;left&quot;&gt;left&lt;&#x2F;div&gt; </span><br><span class="line">　　&lt;div class&#x3D;&quot;right&quot;&gt;right&lt;&#x2F;div&gt; </span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure><h3 id="动画"><a href="#动画" class="headerlink" title="动画"></a>动画</h3><ul><li><p>opacity</p></li><li><p>transform`</p><ul><li>translate3d(x,y,z), rotateX, rotateY, rotateZ, scale(w,h)</li></ul></li><li><p>transition`： 样式变化时的执行方式</p></li><li><p>animation: name duration speed-model time</p><ul><li><code>keyframes</code> 0%-100% 定义动画流程</li></ul></li></ul><h3 id="水平-垂直居中"><a href="#水平-垂直居中" class="headerlink" title="水平/垂直居中"></a><a href="https://segmentfault.com/a/1190000014116655" target="_blank" rel="noopener">水平/垂直居中</a></h3><h3 id="less"><a href="#less" class="headerlink" title="less"></a>less</h3><h2 id="js">JS</h2>### 函数执行<h3 id="原型-继承"><a href="#原型-继承" class="headerlink" title="原型/继承"></a>原型/继承</h3><h3 id="事件-1"><a href="#事件-1" class="headerlink" title="事件"></a>事件</h3><h3 id="异步"><a href="#异步" class="headerlink" title="异步"></a>异步</h3><h3 id="DOM-BOM"><a href="#DOM-BOM" class="headerlink" title="DOM/BOM"></a>DOM/BOM</h3><h3 id="正则"><a href="#正则" class="headerlink" title="正则"></a><a href="https://juejin.im/post/5965943ff265da6c30653879" target="_blank" rel="noopener">正则</a></h3><h3 id="跨域"><a href="#跨域" class="headerlink" title="跨域"></a><a href="http://www.zyy1217.com/2016/12/03/%E8%B7%A8%E5%9F%9F/?yyue=a21bo.50862.201879" target="_blank" rel="noopener">跨域</a></h3><h3 id="设计模式"><a href="#设计模式" class="headerlink" title="设计模式"></a><a href="https://segmentfault.com/a/1190000014919700" target="_blank" rel="noopener">设计模式</a></h3><h3 id="ES6"><a href="#ES6" class="headerlink" title="ES6"></a>ES6</h3><p><code>let/const</code></p><p><code>箭头函数</code></p><p><code>Set</code></p><p><code>Symbol</code></p><p><code>迭代器</code></p><p><code>解构赋值</code></p><p><code>Promise</code></p><p><code>Generator</code></p><p><code>async/await</code></p><p><code>装饰器</code></p><p><code>数据绑定</code></p><h3 id="工程函数"><a href="#工程函数" class="headerlink" title="工程函数"></a>工程函数</h3><p><code>防抖</code></p><p>事件触发 n 秒后才执行，如果你在一个事件触发的 n 秒内又触发了这个事件，那我就以新的事件的时间为准，n 秒后才执行</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">function debounce(func, wait, immediate) &#123;</span><br><span class="line"></span><br><span class="line">    var timeout, result;</span><br><span class="line"></span><br><span class="line">    var debounced &#x3D; function () &#123;</span><br><span class="line">        var context &#x3D; this;</span><br><span class="line">        var args &#x3D; arguments;</span><br><span class="line"></span><br><span class="line">        if (timeout) clearTimeout(timeout);</span><br><span class="line">        if (immediate) &#123;</span><br><span class="line">            &#x2F;&#x2F; 如果已经执行过，不再执行</span><br><span class="line">            var callNow &#x3D; !timeout;</span><br><span class="line">            timeout &#x3D; setTimeout(function()&#123;</span><br><span class="line">                timeout &#x3D; null;</span><br><span class="line">            &#125;, wait)</span><br><span class="line">            if (callNow) result &#x3D; func.apply(context, args)</span><br><span class="line">        &#125;</span><br><span class="line">        else &#123;</span><br><span class="line">            timeout &#x3D; setTimeout(function()&#123;</span><br><span class="line">                result &#x3D; func.apply(context, args)</span><br><span class="line">            &#125;, wait);</span><br><span class="line">        &#125;</span><br><span class="line">        return result;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    debounced.cancel &#x3D; function() &#123;</span><br><span class="line">        clearTimeout(timeout);</span><br><span class="line">        timeout &#x3D; null;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    return debounced;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>节流</code></p><p>如果持续触发事件，每隔一段时间，只执行一次事件。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">function throttle(func, wait, options) &#123;</span><br><span class="line">    var timeout, context, args, result;</span><br><span class="line">    var previous &#x3D; 0;</span><br><span class="line">    if (!options) options &#x3D; &#123;&#125;;</span><br><span class="line"></span><br><span class="line">    var later &#x3D; function() &#123;</span><br><span class="line">        previous &#x3D; options.leading &#x3D;&#x3D;&#x3D; false ? 0 : new Date().getTime();</span><br><span class="line">        timeout &#x3D; null;</span><br><span class="line">        func.apply(context, args);</span><br><span class="line">        if (!timeout) context &#x3D; args &#x3D; null;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    var throttled &#x3D; function() &#123;</span><br><span class="line">        var now &#x3D; new Date().getTime();</span><br><span class="line">        if (!previous &amp;&amp; options.leading &#x3D;&#x3D;&#x3D; false) previous &#x3D; now;</span><br><span class="line">        var remaining &#x3D; wait - (now - previous);</span><br><span class="line">        context &#x3D; this;</span><br><span class="line">        args &#x3D; arguments;</span><br><span class="line">        if (remaining &lt;&#x3D; 0 || remaining &gt; wait) &#123;</span><br><span class="line">            if (timeout) &#123;</span><br><span class="line">                clearTimeout(timeout);</span><br><span class="line">                timeout &#x3D; null;</span><br><span class="line">            &#125;</span><br><span class="line">            previous &#x3D; now;</span><br><span class="line">            func.apply(context, args);</span><br><span class="line">            if (!timeout) context &#x3D; args &#x3D; null;</span><br><span class="line">        &#125; else if (!timeout &amp;&amp; options.trailing !&#x3D;&#x3D; false) &#123;</span><br><span class="line">            timeout &#x3D; setTimeout(later, remaining);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    return throttled;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>柯里化</code></p><p>参数复用。本质上是降低通用性，提高适用性。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">function curry(fn, args, holes) &#123;</span><br><span class="line">    length &#x3D; fn.length;</span><br><span class="line"></span><br><span class="line">    args &#x3D; args || [];</span><br><span class="line"></span><br><span class="line">    holes &#x3D; holes || [];</span><br><span class="line"></span><br><span class="line">    return function() &#123;</span><br><span class="line"></span><br><span class="line">        var _args &#x3D; args.slice(0),</span><br><span class="line">            _holes &#x3D; holes.slice(0),</span><br><span class="line">            argsLen &#x3D; args.length,</span><br><span class="line">            holesLen &#x3D; holes.length,</span><br><span class="line">            arg, i, index &#x3D; 0;</span><br><span class="line"></span><br><span class="line">        for (i &#x3D; 0; i &lt; arguments.length; i++) &#123;</span><br><span class="line">            arg &#x3D; arguments[i];</span><br><span class="line">            &#x2F;&#x2F; 处理类似 fn(1, _, _, 4)(_, 3) 这种情况，index 需要指向 holes 正确的下标</span><br><span class="line">            if (arg &#x3D;&#x3D;&#x3D; _ &amp;&amp; holesLen) &#123;</span><br><span class="line">                index++</span><br><span class="line">                if (index &gt; holesLen) &#123;</span><br><span class="line">                    _args.push(arg);</span><br><span class="line">                    _holes.push(argsLen - 1 + index - holesLen)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            &#x2F;&#x2F; 处理类似 fn(1)(_) 这种情况</span><br><span class="line">            else if (arg &#x3D;&#x3D;&#x3D; _) &#123;</span><br><span class="line">                _args.push(arg);</span><br><span class="line">                _holes.push(argsLen + i);</span><br><span class="line">            &#125;</span><br><span class="line">            &#x2F;&#x2F; 处理类似 fn(_, 2)(1) 这种情况</span><br><span class="line">            else if (holesLen) &#123;</span><br><span class="line">                &#x2F;&#x2F; fn(_, 2)(_, 3)</span><br><span class="line">                if (index &gt;&#x3D; holesLen) &#123;</span><br><span class="line">                    _args.push(arg);</span><br><span class="line">                &#125;</span><br><span class="line">                &#x2F;&#x2F; fn(_, 2)(1) 用参数 1 替换占位符</span><br><span class="line">                else &#123;</span><br><span class="line">                    _args.splice(_holes[index], 1, arg);</span><br><span class="line">                    _holes.splice(index, 1)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            else &#123;</span><br><span class="line">                _args.push(arg);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        if (_holes.length || _args.length &lt; length) &#123;</span><br><span class="line">            return curry.call(this, fn, _args, _holes);</span><br><span class="line">        &#125;</span><br><span class="line">        else &#123;</span><br><span class="line">            return fn.apply(this, _args);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Node"><a href="#Node" class="headerlink" title="Node"></a>Node</h3><h4 id="RESTful"><a href="#RESTful" class="headerlink" title="RESTful"></a><a href="http://www.ruanyifeng.com/blog/2018/10/restful-api-best-practices.html" target="_blank" rel="noopener"><code>RESTful</code></a></h4><p>一种架构设计风格，特定规则的设计原则和约束条件。前后端基于固定的方式交换数据，进行CURD</p><ul><li><p>5个基本操作：GET(读取)，POST(新建)，PUT(更新)，PATCH(部分更新)，DELETE(删除)</p></li><li><p>两个状态转移：客户端无状态，服务端状态转移</p></li><li><p>一次资源操作，资源URI均是具体名称，动词由操作体现</p></li><li><p>避免多级URI，善用查询字符串</p></li><li><p>精确操作状态码</p></li><li><p>错误信息语义化</p></li></ul><h4 id="Socket"><a href="#Socket" class="headerlink" title="Socket"></a><code>Socket</code></h4><p>socket-client.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> net = <span class="built_in">require</span>(<span class="string">'net'</span>);</span><br><span class="line"><span class="keyword">var</span> hostname = <span class="string">'127.0.0.1'</span>;</span><br><span class="line"><span class="keyword">var</span> port = <span class="number">9000</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> client = <span class="keyword">new</span> net.Socket();</span><br><span class="line">client.setEncoding(<span class="string">'utf-8'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 与服务端建立连接</span></span><br><span class="line">client.connect(port,hostname,<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    client.write(<span class="string">'你好啊'</span>);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">client.on(<span class="string">'data'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// console.log(data);</span></span><br><span class="line">    say()</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 逐行读取</span></span><br><span class="line"><span class="keyword">const</span> readline = <span class="built_in">require</span>(<span class="string">'readline'</span>);</span><br><span class="line"><span class="comment">// 建立通信标准</span></span><br><span class="line"><span class="keyword">var</span> r1 = readline.createInterface(&#123;</span><br><span class="line">    input:process.stdin, <span class="comment">//input标准</span></span><br><span class="line">    output:process.stdout <span class="comment">//out 标准</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">say</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    r1.question(<span class="string">'请输入：'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">inputStr</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(inputStr === <span class="string">'bye'</span>) &#123;</span><br><span class="line">            client.destroy()</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'客户端的socket退出'</span>)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            client.write(inputStr + <span class="string">'\n'</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>websocketClient.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ws = <span class="keyword">new</span> WebSocket(<span class="string">'ws://127.0.0.1:3000'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 初始化</span></span><br><span class="line">ws.onopen = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    ws.send(<span class="string">'你好哇'</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ws.onmessage = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> chatRoom = <span class="built_in">document</span>.getElementById(<span class="string">'chatRoom'</span>);</span><br><span class="line">    chatRoom.innerHTML += <span class="string">'&lt;br /&gt;'</span> + event.data;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>socketServer.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> net = <span class="built_in">require</span>(<span class="string">'net'</span>);</span><br><span class="line"><span class="keyword">var</span> clientServer = net.createServer();</span><br><span class="line"><span class="keyword">var</span> clientMap = <span class="keyword">new</span> <span class="built_in">Object</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 加一个标识</span></span><br><span class="line"><span class="keyword">var</span> i = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 接收客户端的连接</span></span><br><span class="line">clientServer.on(<span class="string">'connection'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">client</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'亲 客户端发送过来一条信息'</span>);</span><br><span class="line">    client.name = i++;</span><br><span class="line">    clientMap[client.name] = client;</span><br><span class="line">    client.on(<span class="string">"data"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">`客户端传来<span class="subst">$&#123;data&#125;</span>`</span>)</span><br><span class="line">        client.write(<span class="string">'服务端发送再见'</span>)</span><br><span class="line">        broadcast(data,client)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">broadcast</span>(<span class="params">data,client</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (key <span class="keyword">in</span> clientMap) &#123;</span><br><span class="line">        clientMap[key].write(client.name+<span class="string">"说："</span>+data)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">clientServer.listen(<span class="number">9000</span>);</span><br></pre></td></tr></table></figure><p>websocketServer.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> WebsocketServer = <span class="built_in">require</span>(<span class="string">'ws'</span>).Server;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> wss = <span class="keyword">new</span> WebsocketServer(&#123;</span><br><span class="line">    port: <span class="number">3000</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> clientMap = <span class="keyword">new</span> <span class="built_in">Object</span>;</span><br><span class="line"><span class="keyword">var</span> i = <span class="number">0</span>;</span><br><span class="line">wss.on(<span class="string">'connection'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">client</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'亲，服务端发送过来一条信息'</span>);</span><br><span class="line">    client.on(<span class="string">'message'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">        client.name = i++;</span><br><span class="line">        clientMap[client.name] = client;</span><br><span class="line">        broadcast(data,client)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">broadcast</span>(<span class="params">data,client</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (key <span class="keyword">in</span> clientMap) &#123;</span><br><span class="line">        clientMap[key].send(client.name+<span class="string">'说：'</span>+data)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="框架"><a href="#框架" class="headerlink" title="框架"></a>框架</h4><p><a href="https://segmentfault.com/t/express/blogs" target="_blank" rel="noopener"><code>Express</code></a></p><p><code>Koa</code></p><h4 id="Squelize"><a href="#Squelize" class="headerlink" title="Squelize"></a><a href="https://segmentfault.com/a/1190000016335790" target="_blank" rel="noopener"><code>Squelize</code></a></h4><p>数据库ORM</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">var sequelize &#x3D; new Sequelize(&#39;database&#39;, &#39;username&#39;, &#39;password&#39;, &#123;</span><br><span class="line">  host: &#39;localhost&#39;,</span><br><span class="line">  dialect: &#39;mysql&#39;|&#39;mariadb&#39;|&#39;sqlite&#39;|&#39;postgres&#39;|&#39;mssql&#39;,</span><br><span class="line"></span><br><span class="line">  pool: &#123;</span><br><span class="line">    max: 5,</span><br><span class="line">    min: 0,</span><br><span class="line">    idle: 10000</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; 仅 SQLite 适用</span><br><span class="line">  storage: &#39;path&#x2F;to&#x2F;database.sqlite&#39;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h4 id="Buffer"><a href="#Buffer" class="headerlink" title="Buffer"></a><a href="http://blog.fens.me/nodejs-buffer/?yyue=a21bo.50862.201879" target="_blank" rel="noopener"><code>Buffer</code></a></h4><h4 id="Stream"><a href="#Stream" class="headerlink" title="Stream"></a><a href="https://www.jianshu.com/p/1c3c25e3cd8e" target="_blank" rel="noopener"><code>Stream</code></a></h4><h4 id="Process"><a href="#Process" class="headerlink" title="Process"></a><a href="https://segmentfault.com/a/1190000017376340" target="_blank" rel="noopener"><code>Process</code></a></h4><h4 id="AMD-CMD"><a href="#AMD-CMD" class="headerlink" title="AMD/CMD"></a><code>AMD/CMD</code></h4><ul><li>相同：都是模块加载器，模块化开发</li><li>区别<ul><li>AMD提前执行，CMD延迟执行</li><li>CMD推崇依赖就近，AMD依赖前置</li><li>AMD近与底层，CMD易于调试</li></ul></li></ul><h2 id="fact">工程化</h2>### [Vue](https://juejin.im/book/5a36661851882538e2259c0f)<p><a href="https://segmentfault.com/a/1190000008010666#articleHeader1" target="_blank" rel="noopener"><code>生命周期</code></a></p><p><a href="https://segmentfault.com/a/1190000006599500#articleHeader0" target="_blank" rel="noopener"><code>双向绑定</code></a></p><h3 id="MV"><a href="#MV" class="headerlink" title="MV*"></a><a href="https://github.com/livoras/blog/issues/11" target="_blank" rel="noopener">MV*</a></h3><h3 id="Wbepack"><a href="#Wbepack" class="headerlink" title="Wbepack"></a><a href="https://segmentfault.com/t/webpack/blogs" target="_blank" rel="noopener">Wbepack</a></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;build.config.js</span><br><span class="line">const webpack &#x3D; require(&#39;webpack&#39;)</span><br><span class="line">const path &#x3D; require(&#39;path&#39;)</span><br><span class="line">const ExtractTextPlugin &#x3D; require(&#39;extract-text-webpack-plugin&#39;)</span><br><span class="line">const CopyWebpackPlugin &#x3D; require(&#39;copy-webpack-plugin&#39;)</span><br><span class="line">const CleanWebpackPlugin &#x3D; require(&#39;clean-webpack-plugin&#39;)</span><br><span class="line">const HtmlWebpackPlugin &#x3D; require(&#39;html-webpack-plugin&#39;)</span><br><span class="line">const ImageminWebpackPlugin &#x3D; require(&#39;imagemin-webpack-plugin&#39;).default</span><br><span class="line">const outPath &#x3D; path.resolve(__dirname, &#39;.&#x2F;build&#x2F;public&#39;)</span><br><span class="line"></span><br><span class="line">module.exports &#x3D; &#123;</span><br><span class="line"></span><br><span class="line">    entry: path.resolve(__dirname, &#96;.&#x2F;src&#x2F;public&#x2F;index.js&#96;),</span><br><span class="line"></span><br><span class="line">    output: &#123;</span><br><span class="line">        path: path.resolve(__dirname, &#39;build&#x2F;public&#39;),</span><br><span class="line">        filename: &#39;main-[hash].js&#39;,</span><br><span class="line">        publicPath: &#39;.&#x2F;&#39;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    resolve: &#123;</span><br><span class="line">        extensions: [&#39;.js&#39;, &#39;.jsx&#39;],</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    stats: &#123;</span><br><span class="line">        colors: true,</span><br><span class="line">        reasons: true,</span><br><span class="line">        errorDetails: true</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    devtool: false,</span><br><span class="line"></span><br><span class="line">    module: &#123;</span><br><span class="line">        rules: [</span><br><span class="line">            &#123;</span><br><span class="line">                test: &#x2F;\.js?$&#x2F;,</span><br><span class="line">                use: [</span><br><span class="line">                    &#123;</span><br><span class="line">                        loader: &#39;babel-loader&#39;</span><br><span class="line">                    &#125;</span><br><span class="line">                ],</span><br><span class="line">                exclude: &#x2F;node_modules&#x2F;</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                test: &#x2F;\.(css|less)$&#x2F;,</span><br><span class="line">                use: ExtractTextPlugin.extract(&#123;</span><br><span class="line">                    use: [&#39;css-loader&#39;, &#39;postcss-loader&#39;, &#39;less-loader&#39;],</span><br><span class="line">                    fallback: &#39;style-loader&#39;</span><br><span class="line">                &#125;),</span><br><span class="line">                exclude: &#x2F;node_modules&#x2F;</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                test: &#x2F;\.(png|jpg|gif|svg)$&#x2F;,</span><br><span class="line">                use: &#123;</span><br><span class="line">                    loader: &#39;url-loader&#39;,</span><br><span class="line">                    query: &#123;</span><br><span class="line">                        limit: 10000</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                test: &#x2F;\.woff|\.woff2|\.eot|\.ttf&#x2F;,</span><br><span class="line">                use: &#123;</span><br><span class="line">                    loader: &#39;url-loader&#39;,</span><br><span class="line">                    query: &#123;</span><br><span class="line">                        limit: 5000</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    plugins: [</span><br><span class="line">        new ExtractTextPlugin(&#123;</span><br><span class="line">            filename: &#39;main-[hash].css&#39;,</span><br><span class="line">            allChunks: true</span><br><span class="line">        &#125;),</span><br><span class="line">        new CleanWebpackPlugin(</span><br><span class="line">            [&#39;*&#39;],</span><br><span class="line">            &#123;root: outPath&#125;</span><br><span class="line">        ),</span><br><span class="line">        new CopyWebpackPlugin([</span><br><span class="line">            &#123;from: &#39;.&#x2F;src&#x2F;public&#x2F;assets&#39;, to: path.join(outPath, &#39;.&#x2F;assets&#39;)&#125;</span><br><span class="line">        ]),</span><br><span class="line">        new ImageminWebpackPlugin(&#123; test: &#x2F;\.(jpe?g|png|gif|svg)$&#x2F;i &#125;),</span><br><span class="line">        new webpack.DefinePlugin(&#123;</span><br><span class="line">            &#39;globalEnv&#39;: &#123;</span><br><span class="line">                NODE_ENV: JSON.stringify(&#39;production&#39;),</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;),</span><br><span class="line">        new webpack.optimize.UglifyJsPlugin(),</span><br><span class="line">        new webpack.optimize.AggressiveMergingPlugin(),</span><br><span class="line">        new HtmlWebpackPlugin(&#123;</span><br><span class="line">            template: &#39;.&#x2F;src&#x2F;public&#x2F;index.html&#39;</span><br><span class="line">        &#125;)</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;dev.config.js</span><br><span class="line">const webpack &#x3D; require(&#39;webpack&#39;)</span><br><span class="line">const path &#x3D; require(&#39;path&#39;)</span><br><span class="line">const port &#x3D; require(&quot;.&#x2F;config.json&quot;).port</span><br><span class="line"></span><br><span class="line">module.exports &#x3D; &#123;</span><br><span class="line">    entry: &#123;</span><br><span class="line">        main: [</span><br><span class="line">            &#96;webpack-hot-middleware&#x2F;client?path&#x3D;http:&#x2F;&#x2F;localhost:$&#123;port&#125;&#x2F;__webpack_hmr&amp;reload&#x3D;true&#96;,</span><br><span class="line">            path.resolve(__dirname, &#96;.&#x2F;src&#x2F;public&#x2F;index.js&#96;)</span><br><span class="line">        ],</span><br><span class="line">        &#x2F;&#x2F; vendor: [] &#x2F;&#x2F;引入第三方库</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    output: &#123;</span><br><span class="line">        path: path.resolve(__dirname, &#39;src&#x2F;public&#39;),</span><br><span class="line">        filename: &#39;main.js&#39;,</span><br><span class="line">        publicPath: &#39;&#x2F;&#39;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    stats: &#123;</span><br><span class="line">        colors: true,</span><br><span class="line">        reasons: true,</span><br><span class="line">        errorDetails: true</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    resolve: &#123;</span><br><span class="line">        extensions: [&quot;.js&quot;, &quot;.jsx&quot;, &quot;.less&quot;],</span><br><span class="line">        &#x2F;&#x2F; alias: &#123;&#125;  &#x2F;&#x2F;第三方库简写</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    devtool: false,</span><br><span class="line"></span><br><span class="line">    module: &#123;</span><br><span class="line">        rules: [</span><br><span class="line">            &#123;</span><br><span class="line">                test: &#x2F;\.js$&#x2F;,</span><br><span class="line">                use: [</span><br><span class="line">                    &#123;</span><br><span class="line">                        loader: &#39;babel-loader&#39;</span><br><span class="line">                    &#125;</span><br><span class="line">                ],</span><br><span class="line">                exclude: &#x2F;node_modules&#x2F;</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                test: &#x2F;\.less$&#x2F;,</span><br><span class="line">                use: [</span><br><span class="line">                    &#123;</span><br><span class="line">                        loader: &#39;style-loader&#39;</span><br><span class="line">                    &#125;,</span><br><span class="line">                    &#123;</span><br><span class="line">                        loader: &#39;css-loader&#39;</span><br><span class="line">                    &#125;,</span><br><span class="line">                    &#123;</span><br><span class="line">                        loader: &#39;postcss-loader&#39;</span><br><span class="line">                    &#125;,</span><br><span class="line">                    &#123;</span><br><span class="line">                        loader: &#39;less-loader&#39;</span><br><span class="line">                    &#125;</span><br><span class="line">                ],</span><br><span class="line">                exclude: &#x2F;node_modules&#x2F;</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                test: &#x2F;\.(png|jpg|gif|svg)$&#x2F;,</span><br><span class="line">                use: &#123;</span><br><span class="line">                    loader: &#39;url-loader&#39;,</span><br><span class="line">                    query: &#123;</span><br><span class="line">                        limit: 10000</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                test: &#x2F;\.woff|\.woff2|\.eot|\.ttf&#x2F;,</span><br><span class="line">                use: &#123;</span><br><span class="line">                    loader: &#39;url-loader&#39;,</span><br><span class="line">                    query: &#123;</span><br><span class="line">                        limit: 5000</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    plugins: [</span><br><span class="line">        new webpack.HotModuleReplacementPlugin(),</span><br><span class="line">        new webpack.ProvidePlugin(&#123;&#125;)</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Gulp"><a href="#Gulp" class="headerlink" title="Gulp"></a><a href="https://segmentfault.com/a/1190000016792273" target="_blank" rel="noopener">Gulp</a></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">const gulp &#x3D; require(&quot;gulp&quot;)</span><br><span class="line">const pm2 &#x3D; require(&quot;pm2&quot;)</span><br><span class="line">const babel &#x3D; require(&quot;gulp-babel&quot;)</span><br><span class="line">const webpack &#x3D; require(&quot;webpack&quot;)</span><br><span class="line"></span><br><span class="line">const config &#x3D; require(&quot;.&#x2F;webpack.build.config&quot;)</span><br><span class="line"></span><br><span class="line">let path &#x3D; &#123;</span><br><span class="line">    babel: &quot;.&#x2F;src&#x2F;controller&#x2F;**&#x2F;*.js&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">gulp.task(&quot;build&quot;, (cb) &#x3D;&gt; &#123;</span><br><span class="line">    webpack(config, (err) &#x3D;&gt; &#123;</span><br><span class="line">        if (err) &#123;</span><br><span class="line">            console.error(err)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    return cb()</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">gulp.task(&quot;server&quot;, () &#x3D;&gt; &#123;</span><br><span class="line">    return gulp.src([&quot;.&#x2F;config.json&quot;, &quot;.&#x2F;src&#x2F;app.js&quot;])</span><br><span class="line">    .pipe(gulp.dest(&quot;.&#x2F;build&quot;))</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">gulp.task(&quot;babel&quot;, () &#x3D;&gt; &#123;</span><br><span class="line">    return gulp.src(path.babel)</span><br><span class="line">    .pipe(babel())</span><br><span class="line">    .pipe(gulp.dest(&quot;.&#x2F;build&#x2F;controller&quot;))</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">gulp.task(&quot;pm2&quot;, [&quot;babel&quot;], (cb) &#x3D;&gt; &#123;</span><br><span class="line">    pm2.connect(() &#x3D;&gt; &#123;</span><br><span class="line">        pm2.start(&quot;.&#x2F;server.dev.js&quot;, &#123;name: &quot;server&quot;, watch: true&#125;, (err) &#x3D;&gt; &#123;</span><br><span class="line">            if (err) &#123;</span><br><span class="line">                pm2.disconnect();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">        return cb()</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">gulp.task(&quot;development&quot;, [&quot;babel&quot;, &quot;pm2&quot;], () &#x3D;&gt; &#123;</span><br><span class="line">    gulp.watch(path.babel, [&quot;babel&quot;])</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">gulp.task(&quot;production&quot;, [&quot;babel&quot;, &quot;server&quot;, &quot;build&quot;])</span><br></pre></td></tr></table></figure><h3 id="PM2"><a href="#PM2" class="headerlink" title="PM2"></a><a href="https://segmentfault.com/a/1190000017310047" target="_blank" rel="noopener">PM2</a></h3><h3 id="性能优化"><a href="#性能优化" class="headerlink" title="性能优化"></a>性能优化</h3><p><a href="https://juejin.im/post/5a43343bf265da432f316441" target="_blank" rel="noopener">桌面</a></p><p><a href="https://juejin.im/post/5a43343bf265da432f316441" target="_blank" rel="noopener">移动</a></p><h3 id="算法"><a href="#算法" class="headerlink" title="算法"></a><a href="http://www.zyy1217.com/2017/04/26/%E5%89%8D%E7%AB%AF%E7%AE%97%E6%B3%95%E9%9D%A2%E8%AF%95%E9%A2%98%E6%B1%87%E6%80%BB/" target="_blank" rel="noopener">算法</a></h3><p><a href="https://github.com/hustcc/JS-Sorting-Algorithm" target="_blank" rel="noopener"><code>排序</code></a></p><h3 id="Web-安全"><a href="#Web-安全" class="headerlink" title="Web 安全"></a><a href="https://www.jianshu.com/p/40963ff5ac96" target="_blank" rel="noopener">Web 安全</a></h3></div><div class="post-share">分享到：</div><footer class="post-footer"><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/visitor/" rel="next" title="Linux下访问控制管理——网络控制"><i class="fa fa-chevron-left"></i> Linux下访问控制管理——网络控制</a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"><a href="/sss-hot-update/" rel="prev" title="SSR热更新方案">SSR热更新方案 <i class="fa fa-chevron-right"></i></a></div></div></footer></div></article><div class="post-spread"></div></div></div><div class="comments" id="comments"><div id="disqus_thread"><div id="dsqjs"><section class="dsqjs-info"><p id="dsqjs-load-disqus" class="dsqjs-message">评论完整模式加载中...如果长时间无法加载，请针对 disq.us | disquscdn.com | disqus.com 启用代理</p></section></div></div></div><script type="text/javascript">window.DISQUS=null,new DisqusJS({shortname:"pipiper",siteName:"Pipiper coming !",identifier:"frontBasic/",url:"http://blog.lizardlove.ren/frontBasic/",api:"",apikey:"",admin:"pipiper",adminLabel:"废话"})</script></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span> <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span> <span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">Table of Contents</li><li class="sidebar-nav-overview" data-target="site-overview-wrap">Overview</li></ul><section class="site-overview-wrap sidebar-panel"><div class="site-overview"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" src="/images/card.jpg" alt="Pipiper"><p class="site-author-name" itemprop="name">Pipiper</p><p class="site-description motion-element" itemprop="description">多吃多骗</p></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/lizardlove" target="_blank" title="GitHub" data-balloon="GitHub" data-balloon-pos="up"><i class="fa fa-fw fa-github"></i></a> </span><span class="links-of-author-item"><a href="https://twitter.com/xiyiailoli" target="_blank" title="Twitter" data-balloon="Twitter" data-balloon-pos="up"><i class="fa fa-fw fa-twitter"></i></a> </span><span class="links-of-author-item"><a href="mailto:xiyiailoli@gmail.com" target="_blank" title="Gmail" data-balloon="Gmail" data-balloon-pos="up"><i class="fa fa-fw fa-envelope"></i></a> </span><span class="links-of-author-item"><a href="https://t.me/PipiperZhang" target="_blank" title="Telegram 频道" data-balloon="Telegram 频道" data-balloon-pos="up"><i class="fa fa-fw fa-telegram"></i></a></span></div><div class="feed-link motion-element"><a class="feed-rss" href="/atom.xml" rel="alternate" target="_blank"><i class="fa fa-rss"></i> <span>RSS 订阅</span></a></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"><a href="/archives"><span class="site-state-item-count">20</span> <span class="site-state-item-name">posts</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/index.html"><span class="site-state-item-count">3</span> <span class="site-state-item-name">categories</span></a></div></nav><div class="cc-license motion-element" itemprop="license"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" class="cc-opacity" target="_blank"><img src="/images/cc-by-nc-sa.png" alt="Creative Commons"></a></div></div></section><section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active"><div class="post-toc"><div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#html"><span class="nav-number">1.</span> <span class="nav-text">HTML</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#HTML-5-新特性"><span class="nav-number">1.1.</span> <span class="nav-text">HTML 5 新特性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Canvas"><span class="nav-number">1.2.</span> <span class="nav-text">Canvas</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#表单"><span class="nav-number">1.3.</span> <span class="nav-text">表单</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#缓存"><span class="nav-number">1.4.</span> <span class="nav-text">缓存</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#本地存储"><span class="nav-number">1.4.1.</span> <span class="nav-text">本地存储</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Cookie"><span class="nav-number">1.4.1.1.</span> <span class="nav-text">Cookie</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Web-Storage"><span class="nav-number">1.4.1.2.</span> <span class="nav-text">Web Storage</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#method"><span class="nav-number">1.4.2.</span> <span class="nav-text">method</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#HTTP报文"><span class="nav-number">1.4.3.</span> <span class="nav-text">HTTP报文</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#请求报文"><span class="nav-number">1.4.3.1.</span> <span class="nav-text">请求报文</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#响应报文"><span class="nav-number">1.4.3.2.</span> <span class="nav-text">响应报文</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#HTTP请求流程"><span class="nav-number">1.4.4.</span> <span class="nav-text">HTTP请求流程</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#WebSocket"><span class="nav-number">1.5.</span> <span class="nav-text">WebSocket</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#API"><span class="nav-number">1.5.1.</span> <span class="nav-text">API</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#创建"><span class="nav-number">1.5.1.1.</span> <span class="nav-text">创建</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#属性"><span class="nav-number">1.5.1.2.</span> <span class="nav-text">属性</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#常量"><span class="nav-number">1.5.1.3.</span> <span class="nav-text">常量</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#事件"><span class="nav-number">1.5.1.4.</span> <span class="nav-text">事件</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#方法"><span class="nav-number">1.5.1.5.</span> <span class="nav-text">方法</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#升级协商"><span class="nav-number">1.5.2.</span> <span class="nav-text">升级协商</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#应用场景"><span class="nav-number">1.5.3.</span> <span class="nav-text">应用场景</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Socket-IO"><span class="nav-number">1.5.4.</span> <span class="nav-text">Socket.IO</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#从URL到页面显示"><span class="nav-number">1.6.</span> <span class="nav-text">从URL到页面显示</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#移动端"><span class="nav-number">1.7.</span> <span class="nav-text">移动端</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#css"><span class="nav-number">2.</span> <span class="nav-text">CSS</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#CSS世界笔记"><span class="nav-number">2.0.1.</span> <span class="nav-text">CSS世界笔记</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#选择器"><span class="nav-number">2.0.2.</span> <span class="nav-text">选择器</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#display-none与visibility-hidden"><span class="nav-number">2.0.3.</span> <span class="nav-text">display:none与visibility:hidden</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#布局"><span class="nav-number">2.1.</span> <span class="nav-text">布局</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#动画"><span class="nav-number">2.2.</span> <span class="nav-text">动画</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#水平-垂直居中"><span class="nav-number">2.3.</span> <span class="nav-text">水平&#x2F;垂直居中</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#less"><span class="nav-number">2.4.</span> <span class="nav-text">less</span></a></li></ol><li class="nav-item nav-level-2"><a class="nav-link" href="#js"><span class="nav-number">3.</span> <span class="nav-text">JS</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#原型-继承"><span class="nav-number">3.1.</span> <span class="nav-text">原型&#x2F;继承</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#事件-1"><span class="nav-number">3.2.</span> <span class="nav-text">事件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#异步"><span class="nav-number">3.3.</span> <span class="nav-text">异步</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DOM-BOM"><span class="nav-number">3.4.</span> <span class="nav-text">DOM&#x2F;BOM</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#正则"><span class="nav-number">3.5.</span> <span class="nav-text">正则</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#跨域"><span class="nav-number">3.6.</span> <span class="nav-text">跨域</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#设计模式"><span class="nav-number">3.7.</span> <span class="nav-text">设计模式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ES6"><span class="nav-number">3.8.</span> <span class="nav-text">ES6</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#工程函数"><span class="nav-number">3.9.</span> <span class="nav-text">工程函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Node"><span class="nav-number">3.10.</span> <span class="nav-text">Node</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#RESTful"><span class="nav-number">3.10.1.</span> <span class="nav-text">RESTful</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Socket"><span class="nav-number">3.10.2.</span> <span class="nav-text">Socket</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#框架"><span class="nav-number">3.10.3.</span> <span class="nav-text">框架</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Squelize"><span class="nav-number">3.10.4.</span> <span class="nav-text">Squelize</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Buffer"><span class="nav-number">3.10.5.</span> <span class="nav-text">Buffer</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Stream"><span class="nav-number">3.10.6.</span> <span class="nav-text">Stream</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Process"><span class="nav-number">3.10.7.</span> <span class="nav-text">Process</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#AMD-CMD"><span class="nav-number">3.10.8.</span> <span class="nav-text">AMD&#x2F;CMD</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#fact"><span class="nav-number">4.</span> <span class="nav-text">工程化</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#MV"><span class="nav-number">4.1.</span> <span class="nav-text">MV*</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Wbepack"><span class="nav-number">4.2.</span> <span class="nav-text">Wbepack</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Gulp"><span class="nav-number">4.3.</span> <span class="nav-text">Gulp</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#PM2"><span class="nav-number">4.4.</span> <span class="nav-text">PM2</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#性能优化"><span class="nav-number">4.5.</span> <span class="nav-text">性能优化</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#算法"><span class="nav-number">4.6.</span> <span class="nav-text">算法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Web-安全"><span class="nav-number">4.7.</span> <span class="nav-text">Web 安全</span></a></li></ol></li></div></div></section></div></aside></div></main><footer id="footer" class="footer"><div class="footer-image"></div><div class="footer-inner"><p>博客已萌萌哒运行<span id="since"></span><span class="my-face">(●'◡'●)ﾉ♥</span></p><p>托管于<a href="https://github.com/" target="_blank" rel="nofollow"> GitHub</a>. <a href="http://www.google.com/analytics/" target="_blank" rel="nofollow">Google Analytics </a>提供网站统计服务.</p><p>© <span itemprop="copyrightYear">2021</span> Pipiper coming !. 由 <a href="https://hexo.io/" target="_blank" class="external" rel="nofollow">Hexo</a> 强力驱动. Theme By <a href="https://github.com/DIYgod/hexo-theme-sagiri" target="_blank" class="external" rel="nofollow">Sagiri</a> v0.0.53. <a href="/sitemap.xml" target="_blank">站点地图</a>. .</p><p>Made with <i class="fa fa-heart throb" style="color:#d43f57"></i> by <span class="author" itemprop="copyrightHolder">Pipiper</span>.</p></div></footer><div class="back-to-top"><i class="fa fa-arrow-up"></i></div><canvas id="evanyou"></canvas><div id="aplayer-fixed"></div></div><script type="text/javascript" src="/js/sagiri.min.js?v=0.0.53"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });</script><script type="text/x-mathjax-config">MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });</script><script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script><script>var serviceWorkerUri="/sw.js";"serviceWorker"in navigator?navigator.serviceWorker.register(serviceWorkerUri).then(function(){navigator.serviceWorker.controller?console.log("Assets cached by the controlling service worker."):console.log("Please reload this page to allow the service worker to handle network operations.")}).catch(function(e){console.log("ERROR: "+e)}):console.log("Service workers are not supported in the current browser.")</script></body></html>